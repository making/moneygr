(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){

; Thrift = global.Thrift = require("c:\\Users\\makits.RDH\\git\\moneygr\\src\\main\\resources\\static\\lib\\thrift.js");
TUser = global.TUser = require("c:\\Users\\makits.RDH\\git\\moneygr\\src\\main\\resources\\static\\gen-js\\moneygr_types.js");
; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
//
// Autogenerated by Thrift Compiler (0.9.2)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//


//HELPER FUNCTIONS AND STRUCTURES

TUserService_findFamilies_args = function(args) {
};
TUserService_findFamilies_args.prototype = {};
TUserService_findFamilies_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TUserService_findFamilies_args.prototype.write = function(output) {
  output.writeStructBegin('TUserService_findFamilies_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TUserService_findFamilies_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined) {
      this.success = args.success;
    }
  }
};
TUserService_findFamilies_result.prototype = {};
TUserService_findFamilies_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        var _size8 = 0;
        var _rtmp312;
        this.success = [];
        var _etype11 = 0;
        _rtmp312 = input.readListBegin();
        _etype11 = _rtmp312.etype;
        _size8 = _rtmp312.size;
        for (var _i13 = 0; _i13 < _size8; ++_i13)
        {
          var elem14 = null;
          elem14 = new TFamily();
          elem14.read(input);
          this.success.push(elem14);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TUserService_findFamilies_result.prototype.write = function(output) {
  output.writeStructBegin('TUserService_findFamilies_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter15 in this.success)
    {
      if (this.success.hasOwnProperty(iter15))
      {
        iter15 = this.success[iter15];
        iter15.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TUserService_findUser_args = function(args) {
  this.userId = null;
  if (args) {
    if (args.userId !== undefined) {
      this.userId = args.userId;
    }
  }
};
TUserService_findUser_args.prototype = {};
TUserService_findUser_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.userId = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TUserService_findUser_args.prototype.write = function(output) {
  output.writeStructBegin('TUserService_findUser_args');
  if (this.userId !== null && this.userId !== undefined) {
    output.writeFieldBegin('userId', Thrift.Type.I32, 1);
    output.writeI32(this.userId);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TUserService_findUser_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined) {
      this.success = args.success;
    }
  }
};
TUserService_findUser_result.prototype = {};
TUserService_findUser_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new TUser();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TUserService_findUser_result.prototype.write = function(output) {
  output.writeStructBegin('TUserService_findUser_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TUserService_create_args = function(args) {
  this.user = null;
  this.rawPassword = null;
  if (args) {
    if (args.user !== undefined) {
      this.user = args.user;
    }
    if (args.rawPassword !== undefined) {
      this.rawPassword = args.rawPassword;
    }
  }
};
TUserService_create_args.prototype = {};
TUserService_create_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.user = new TUser();
        this.user.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.rawPassword = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TUserService_create_args.prototype.write = function(output) {
  output.writeStructBegin('TUserService_create_args');
  if (this.user !== null && this.user !== undefined) {
    output.writeFieldBegin('user', Thrift.Type.STRUCT, 1);
    this.user.write(output);
    output.writeFieldEnd();
  }
  if (this.rawPassword !== null && this.rawPassword !== undefined) {
    output.writeFieldBegin('rawPassword', Thrift.Type.STRING, 2);
    output.writeString(this.rawPassword);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TUserService_create_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined) {
      this.success = args.success;
    }
  }
};
TUserService_create_result.prototype = {};
TUserService_create_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new TUser();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TUserService_create_result.prototype.write = function(output) {
  output.writeStructBegin('TUserService_create_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TUserServiceClient = function(input, output) {
    this.input = input;
    this.output = (!output) ? input : output;
    this.seqid = 0;
};
TUserServiceClient.prototype = {};
TUserServiceClient.prototype.findFamilies = function(callback) {
  this.send_findFamilies(callback); 
  if (!callback) {
    return this.recv_findFamilies();
  }
};

TUserServiceClient.prototype.send_findFamilies = function(callback) {
  this.output.writeMessageBegin('findFamilies', Thrift.MessageType.CALL, this.seqid);
  var args = new TUserService_findFamilies_args();
  args.write(this.output);
  this.output.writeMessageEnd();
  if (callback) {
    var self = this;
    this.output.getTransport().flush(true, function() {
      var result = null;
      try {
        result = self.recv_findFamilies();
      } catch (e) {
        result = e;
      }
      callback(result);
    });
  } else {
    return this.output.getTransport().flush();
  }
};

TUserServiceClient.prototype.recv_findFamilies = function() {
  var ret = this.input.readMessageBegin();
  var fname = ret.fname;
  var mtype = ret.mtype;
  var rseqid = ret.rseqid;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new TUserService_findFamilies_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'findFamilies failed: unknown result';
};
TUserServiceClient.prototype.findUser = function(userId, callback) {
  this.send_findUser(userId, callback); 
  if (!callback) {
    return this.recv_findUser();
  }
};

TUserServiceClient.prototype.send_findUser = function(userId, callback) {
  this.output.writeMessageBegin('findUser', Thrift.MessageType.CALL, this.seqid);
  var args = new TUserService_findUser_args();
  args.userId = userId;
  args.write(this.output);
  this.output.writeMessageEnd();
  if (callback) {
    var self = this;
    this.output.getTransport().flush(true, function() {
      var result = null;
      try {
        result = self.recv_findUser();
      } catch (e) {
        result = e;
      }
      callback(result);
    });
  } else {
    return this.output.getTransport().flush();
  }
};

TUserServiceClient.prototype.recv_findUser = function() {
  var ret = this.input.readMessageBegin();
  var fname = ret.fname;
  var mtype = ret.mtype;
  var rseqid = ret.rseqid;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new TUserService_findUser_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'findUser failed: unknown result';
};
TUserServiceClient.prototype.create = function(user, rawPassword, callback) {
  this.send_create(user, rawPassword, callback); 
  if (!callback) {
    return this.recv_create();
  }
};

TUserServiceClient.prototype.send_create = function(user, rawPassword, callback) {
  this.output.writeMessageBegin('create', Thrift.MessageType.CALL, this.seqid);
  var args = new TUserService_create_args();
  args.user = user;
  args.rawPassword = rawPassword;
  args.write(this.output);
  this.output.writeMessageEnd();
  if (callback) {
    var self = this;
    this.output.getTransport().flush(true, function() {
      var result = null;
      try {
        result = self.recv_create();
      } catch (e) {
        result = e;
      }
      callback(result);
    });
  } else {
    return this.output.getTransport().flush();
  }
};

TUserServiceClient.prototype.recv_create = function() {
  var ret = this.input.readMessageBegin();
  var fname = ret.fname;
  var mtype = ret.mtype;
  var rseqid = ret.rseqid;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new TUserService_create_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'create failed: unknown result';
};
; browserify_shim__define__module__export__(typeof TUserServiceClient != "undefined" ? TUserServiceClient : window.TUserServiceClient);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"c:\\Users\\makits.RDH\\git\\moneygr\\src\\main\\resources\\static\\gen-js\\moneygr_types.js":2,"c:\\Users\\makits.RDH\\git\\moneygr\\src\\main\\resources\\static\\lib\\thrift.js":3}],2:[function(require,module,exports){
(function (global){

; TRole = global.TRole = require("c:\\Users\\makits.RDH\\git\\moneygr\\src\\main\\resources\\static\\gen-js\\moneygr_types.js");
; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
//
// Autogenerated by Thrift Compiler (0.9.2)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//


TUser = function(args) {
  this.userId = null;
  this.email = null;
  this.firstName = null;
  this.lastName = null;
  this.family = null;
  this.roles = null;
  if (args) {
    if (args.userId !== undefined) {
      this.userId = args.userId;
    }
    if (args.email !== undefined) {
      this.email = args.email;
    }
    if (args.firstName !== undefined) {
      this.firstName = args.firstName;
    }
    if (args.lastName !== undefined) {
      this.lastName = args.lastName;
    }
    if (args.family !== undefined) {
      this.family = args.family;
    }
    if (args.roles !== undefined) {
      this.roles = args.roles;
    }
  }
};
TUser.prototype = {};
TUser.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.userId = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.email = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.firstName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.lastName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRUCT) {
        this.family = new TFamily();
        this.family.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        var _size0 = 0;
        var _rtmp34;
        this.roles = [];
        var _etype3 = 0;
        _rtmp34 = input.readListBegin();
        _etype3 = _rtmp34.etype;
        _size0 = _rtmp34.size;
        for (var _i5 = 0; _i5 < _size0; ++_i5)
        {
          var elem6 = null;
          elem6 = new TRole();
          elem6.read(input);
          this.roles.push(elem6);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TUser.prototype.write = function(output) {
  output.writeStructBegin('TUser');
  if (this.userId !== null && this.userId !== undefined) {
    output.writeFieldBegin('userId', Thrift.Type.I32, 1);
    output.writeI32(this.userId);
    output.writeFieldEnd();
  }
  if (this.email !== null && this.email !== undefined) {
    output.writeFieldBegin('email', Thrift.Type.STRING, 2);
    output.writeString(this.email);
    output.writeFieldEnd();
  }
  if (this.firstName !== null && this.firstName !== undefined) {
    output.writeFieldBegin('firstName', Thrift.Type.STRING, 4);
    output.writeString(this.firstName);
    output.writeFieldEnd();
  }
  if (this.lastName !== null && this.lastName !== undefined) {
    output.writeFieldBegin('lastName', Thrift.Type.STRING, 5);
    output.writeString(this.lastName);
    output.writeFieldEnd();
  }
  if (this.family !== null && this.family !== undefined) {
    output.writeFieldBegin('family', Thrift.Type.STRUCT, 6);
    this.family.write(output);
    output.writeFieldEnd();
  }
  if (this.roles !== null && this.roles !== undefined) {
    output.writeFieldBegin('roles', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRUCT, this.roles.length);
    for (var iter7 in this.roles)
    {
      if (this.roles.hasOwnProperty(iter7))
      {
        iter7 = this.roles[iter7];
        iter7.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TFamily = function(args) {
  this.familyId = null;
  this.familyName = null;
  if (args) {
    if (args.familyId !== undefined) {
      this.familyId = args.familyId;
    }
    if (args.familyName !== undefined) {
      this.familyName = args.familyName;
    }
  }
};
TFamily.prototype = {};
TFamily.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.familyId = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.familyName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TFamily.prototype.write = function(output) {
  output.writeStructBegin('TFamily');
  if (this.familyId !== null && this.familyId !== undefined) {
    output.writeFieldBegin('familyId', Thrift.Type.I32, 1);
    output.writeI32(this.familyId);
    output.writeFieldEnd();
  }
  if (this.familyName !== null && this.familyName !== undefined) {
    output.writeFieldBegin('familyName', Thrift.Type.STRING, 2);
    output.writeString(this.familyName);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TRole = function(args) {
  this.roleName = null;
  if (args) {
    if (args.roleName !== undefined) {
      this.roleName = args.roleName;
    }
  }
};
TRole.prototype = {};
TRole.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.roleName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TRole.prototype.write = function(output) {
  output.writeStructBegin('TRole');
  if (this.roleName !== null && this.roleName !== undefined) {
    output.writeFieldBegin('roleName', Thrift.Type.STRING, 1);
    output.writeString(this.roleName);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};
; browserify_shim__define__module__export__(typeof TUser != "undefined" ? TUser : window.TUser);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"c:\\Users\\makits.RDH\\git\\moneygr\\src\\main\\resources\\static\\gen-js\\moneygr_types.js":2}],3:[function(require,module,exports){
(function (global){
; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements. See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership. The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License. You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

/*jshint evil:true*/

/**
 * The Thrift namespace houses the Apache Thrift JavaScript library 
 * elements providing JavaScript bindings for the Apache Thrift RPC 
 * system. End users will typically only directly make use of the 
 * Transport (TXHRTransport/TWebSocketTransport) and Protocol 
 * (TJSONPRotocol/TBinaryProtocol) constructors.
 * 
 * Object methods beginning with a __ (e.g. __onOpen()) are internal 
 * and should not be called outside of the object's own methods.
 * 
 * This library creates one global object: Thrift
 * Code in this library must never create additional global identifiers,
 * all features must be scoped within the Thrift namespace.
 * @namespace
 * @example
 *     var transport = new Thrift.Transport("http://localhost:8585");
 *     var protocol  = new Thrift.Protocol(transport);
 *     var client = new MyThriftSvcClient(protocol);
 *     var result = client.MyMethod();
 */
var Thrift = {
    /**
     * Thrift JavaScript library version.
     * @readonly
     * @const {string} Version
     * @memberof Thrift
     */
    Version: '0.9.2',

    /**
     * Thrift IDL type string to Id mapping.
     * @readonly
     * @property {number}  STOP   - End of a set of fields.
     * @property {number}  VOID   - No value (only legal for return types).
     * @property {number}  BOOL   - True/False integer.
     * @property {number}  BYTE   - Signed 8 bit integer.
     * @property {number}  I08    - Signed 8 bit integer.     
     * @property {number}  DOUBLE - 64 bit IEEE 854 floating point.
     * @property {number}  I16    - Signed 16 bit integer.
     * @property {number}  I32    - Signed 32 bit integer.
     * @property {number}  I64    - Signed 64 bit integer.
     * @property {number}  STRING - Array of bytes representing a string of characters.
     * @property {number}  UTF7   - Array of bytes representing a string of UTF7 encoded characters.
     * @property {number}  STRUCT - A multifield type.
     * @property {number}  MAP    - A collection type (map/associative-array/dictionary).
     * @property {number}  SET    - A collection type (unordered and without repeated values).
     * @property {number}  LIST   - A collection type (unordered).
     * @property {number}  UTF8   - Array of bytes representing a string of UTF8 encoded characters.
     * @property {number}  UTF16  - Array of bytes representing a string of UTF16 encoded characters.
     */
    Type: {
        'STOP' : 0,
        'VOID' : 1,
        'BOOL' : 2,
        'BYTE' : 3,
        'I08' : 3,
        'DOUBLE' : 4,
        'I16' : 6,
        'I32' : 8,
        'I64' : 10,
        'STRING' : 11,
        'UTF7' : 11,
        'STRUCT' : 12,
        'MAP' : 13,
        'SET' : 14,
        'LIST' : 15,
        'UTF8' : 16,
        'UTF16' : 17
    },

    /**
     * Thrift RPC message type string to Id mapping.
     * @readonly
     * @property {number}  CALL      - RPC call sent from client to server.
     * @property {number}  REPLY     - RPC call normal response from server to client.
     * @property {number}  EXCEPTION - RPC call exception response from server to client.
     * @property {number}  ONEWAY    - Oneway RPC call from client to server with no response.
     */
    MessageType: {
        'CALL' : 1,
        'REPLY' : 2,
        'EXCEPTION' : 3,
        'ONEWAY' : 4
    },

    /**
     * Utility function returning the count of an object's own properties.
     * @param {object} obj - Object to test.
     * @returns {number} number of object's own properties
     */
    objectLength: function(obj) {
        var length = 0;
        for (var k in obj) {
            if (obj.hasOwnProperty(k)) {
                length++;
            }
        }
        return length;
    },

    /**
     * Utility function to establish prototype inheritance.
     * @see {@link http://javascript.crockford.com/prototypal.html|Prototypal Inheritance}
     * @param {function} constructor - Contstructor function to set as derived.
     * @param {function} superConstructor - Contstructor function to set as base.
     * @param {string} [name] - Type name to set as name property in derived prototype.
     */
    inherits: function(constructor, superConstructor, name) {
      function F() {}
      F.prototype = superConstructor.prototype;
      constructor.prototype = new F();
      constructor.prototype.name = name || "";
    }
};

/**
 * Initializes a Thrift TException instance.
 * @constructor
 * @augments Error
 * @param {string} message - The TException message (distinct from the Error message).
 * @classdesc TException is the base class for all Thrift exceptions types.
 */
Thrift.TException = function(message) {
    this.message = message;
};
Thrift.inherits(Thrift.TException, Error, 'TException');

/**
 * Returns the message set on the exception.
 * @readonly
 * @returns {string} exception message
 */
Thrift.TException.prototype.getMessage = function() {
    return this.message;
};

/**
 * Thrift Application Exception type string to Id mapping.
 * @readonly
 * @property {number}  UNKNOWN                 - Unknown/undefined.
 * @property {number}  UNKNOWN_METHOD          - Client attempted to call a method unknown to the server.
 * @property {number}  INVALID_MESSAGE_TYPE    - Client passed an unknown/unsupported MessageType.
 * @property {number}  WRONG_METHOD_NAME       - Unused.
 * @property {number}  BAD_SEQUENCE_ID         - Unused in Thrift RPC, used to flag proprietary sequence number errors.
 * @property {number}  MISSING_RESULT          - Raised by a server processor if a handler fails to supply the required return result.
 * @property {number}  INTERNAL_ERROR          - Something bad happened.
 * @property {number}  PROTOCOL_ERROR          - The protocol layer failed to serialize or deserialize data.
 * @property {number}  INVALID_TRANSFORM       - Unused.
 * @property {number}  INVALID_PROTOCOL        - The protocol (or version) is not supported.
 * @property {number}  UNSUPPORTED_CLIENT_TYPE - Unused.
 */
Thrift.TApplicationExceptionType = {
    'UNKNOWN' : 0,
    'UNKNOWN_METHOD' : 1,
    'INVALID_MESSAGE_TYPE' : 2,
    'WRONG_METHOD_NAME' : 3,
    'BAD_SEQUENCE_ID' : 4,
    'MISSING_RESULT' : 5,
    'INTERNAL_ERROR' : 6,
    'PROTOCOL_ERROR' : 7,
    'INVALID_TRANSFORM' : 8,
    'INVALID_PROTOCOL' : 9,
    'UNSUPPORTED_CLIENT_TYPE' : 10
};

/**
 * Initializes a Thrift TApplicationException instance.
 * @constructor
 * @augments Thrift.TException
 * @param {string} message - The TApplicationException message (distinct from the Error message).
 * @param {Thrift.TApplicationExceptionType} [code] - The TApplicationExceptionType code.
 * @classdesc TApplicationException is the exception class used to propagate exceptions from an RPC server back to a calling client.
*/
Thrift.TApplicationException = function(message, code) {
    this.message = message;
    this.code = typeof code === "number" ? code : 0;
};
Thrift.inherits(Thrift.TApplicationException, Thrift.TException, 'TApplicationException');

/**
 * Read a TApplicationException from the supplied protocol.
 * @param {object} input - The input protocol to read from.
 */
Thrift.TApplicationException.prototype.read = function(input) {
    while (1) {
        var ret = input.readFieldBegin();

        if (ret.ftype == Thrift.Type.STOP) {
            break;
        }

        var fid = ret.fid;

        switch (fid) {
            case 1:
                if (ret.ftype == Thrift.Type.STRING) {
                    ret = input.readString();
                    this.message = ret.value;
                } else {
                    ret = input.skip(ret.ftype);
                }
                break;
            case 2:
                if (ret.ftype == Thrift.Type.I32) {
                    ret = input.readI32();
                    this.code = ret.value;
                } else {
                    ret = input.skip(ret.ftype);
                }
                break;
           default:
                ret = input.skip(ret.ftype);
                break;
        }

        input.readFieldEnd();
    }

    input.readStructEnd();
};

/**
 * Wite a TApplicationException to the supplied protocol.
 * @param {object} output - The output protocol to write to.
 */
Thrift.TApplicationException.prototype.write = function(output) {
    output.writeStructBegin('TApplicationException');

    if (this.message) {
        output.writeFieldBegin('message', Thrift.Type.STRING, 1);
        output.writeString(this.getMessage());
        output.writeFieldEnd();
    }

    if (this.code) {
        output.writeFieldBegin('type', Thrift.Type.I32, 2);
        output.writeI32(this.code);
        output.writeFieldEnd();
    }

    output.writeFieldStop();
    output.writeStructEnd();
};

/**
 * Returns the application exception code set on the exception.
 * @readonly
 * @returns {Thrift.TApplicationExceptionType} exception code
 */
Thrift.TApplicationException.prototype.getCode = function() {
    return this.code;
};

/**
 * Constructor Function for the XHR transport.
 * If you do not specify a url then you must handle XHR operations on
 * your own. This type can also be constructed using the Transport alias
 * for backward compatibility.
 * @constructor
 * @param {string} [url] - The URL to connect to.
 * @classdesc The Apache Thrift Transport layer performs byte level I/O 
 * between RPC clients and servers. The JavaScript TXHRTransport object 
 * uses Http[s]/XHR. Target servers must implement the http[s] transport
 * (see: node.js example server_http.js).
 * @example
 *     var transport = new Thrift.TXHRTransport("http://localhost:8585");
 */
Thrift.Transport = Thrift.TXHRTransport = function(url, options) {
    this.url = url;
    this.wpos = 0;
    this.rpos = 0;
    this.useCORS = (options && options.useCORS);
    this.send_buf = '';
    this.recv_buf = '';
};

Thrift.TXHRTransport.prototype = {
    /**
     * Gets the browser specific XmlHttpRequest Object.
     * @returns {object} the browser XHR interface object
     */
    getXmlHttpRequestObject: function() {
        try { return new XMLHttpRequest(); } catch (e1) { }
        try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch (e2) { }
        try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch (e3) { }

        throw "Your browser doesn't support XHR.";
    },

    /**
     * Sends the current XRH request if the transport was created with a URL 
     * and the async parameter is false. If the transport was not created with
     * a URL, or the async parameter is True and no callback is provided, or 
     * the URL is an empty string, the current send buffer is returned.
     * @param {object} async - If true the current send buffer is returned.
     * @param {object} callback - Optional async completion callback 
     * @returns {undefined|string} Nothing or the current send buffer.
     * @throws {string} If XHR fails.
     */
    flush: function(async, callback) {
        var self = this;
        if ((async && !callback) || this.url === undefined || this.url === '') {
            return this.send_buf;
        }

        var xreq = this.getXmlHttpRequestObject();

        if (xreq.overrideMimeType) {
            xreq.overrideMimeType('application/json');
        }

        if (callback) {
            //Ignore XHR callbacks until the data arrives, then call the
            //  client's callback
            xreq.onreadystatechange = 
              (function() {
                var clientCallback = callback;    
                return function() {
                  if (this.readyState == 4 && this.status == 200) {
                    self.setRecvBuffer(this.responseText);
                    clientCallback();
                  }
                };
              }());
        }

        xreq.open('POST', this.url, !!async);
        xreq.send(this.send_buf);
        if (async && callback) {
            return;
        }

        if (xreq.readyState != 4) {
            throw 'encountered an unknown ajax ready state: ' + xreq.readyState;
        }

        if (xreq.status != 200) {
            throw 'encountered a unknown request status: ' + xreq.status;
        }

        this.recv_buf = xreq.responseText;
        this.recv_buf_sz = this.recv_buf.length;
        this.wpos = this.recv_buf.length;
        this.rpos = 0;
    },

    /**
     * Creates a jQuery XHR object to be used for a Thrift server call.
     * @param {object} client - The Thrift Service client object generated by the IDL compiler.
     * @param {object} postData - The message to send to the server.
     * @param {function} args - The original call arguments with the success call back at the end.
     * @param {function} recv_method - The Thrift Service Client receive method for the call.
     * @returns {object} A new jQuery XHR object.
     * @throws {string} If the jQuery version is prior to 1.5 or if jQuery is not found.
     */
    jqRequest: function(client, postData, args, recv_method) {
        if (typeof jQuery === 'undefined' ||
            typeof jQuery.Deferred === 'undefined') {
            throw 'Thrift.js requires jQuery 1.5+ to use asynchronous requests';
        }

        var thriftTransport = this;

        var jqXHR = jQuery.ajax({
            url: this.url,
            data: postData,
            type: 'POST',
            cache: false,
            contentType: 'application/json',
            dataType: 'text thrift',
            converters: {
                'text thrift' : function(responseData) {
                    thriftTransport.setRecvBuffer(responseData);
                    var value = recv_method.call(client);
                    return value;
                }
            },
            context: client,
            success: jQuery.makeArray(args).pop()
        });

        return jqXHR;
    },

    /**
     * Sets the buffer to provide the protocol when deserializing.
     * @param {string} buf - The buffer to supply the protocol.
     */
    setRecvBuffer: function(buf) {
        this.recv_buf = buf;
        this.recv_buf_sz = this.recv_buf.length;
        this.wpos = this.recv_buf.length;
        this.rpos = 0;
    },

    /**
     * Returns true if the transport is open, XHR always returns true.
     * @readonly
     * @returns {boolean} Always True.
     */    
    isOpen: function() {
        return true;
    },

    /**
     * Opens the transport connection, with XHR this is a nop.
     */    
    open: function() {},

    /**
     * Closes the transport connection, with XHR this is a nop.
     */    
    close: function() {},

    /**
     * Returns the specified number of characters from the response
     * buffer.
     * @param {number} len - The number of characters to return.
     * @returns {string} Characters sent by the server.
     */
    read: function(len) {
        var avail = this.wpos - this.rpos;

        if (avail === 0) {
            return '';
        }

        var give = len;

        if (avail < len) {
            give = avail;
        }

        var ret = this.read_buf.substr(this.rpos, give);
        this.rpos += give;

        //clear buf when complete?
        return ret;
    },

    /**
     * Returns the entire response buffer.
     * @returns {string} Characters sent by the server.
     */
    readAll: function() {
        return this.recv_buf;
    },

    /**
     * Sets the send buffer to buf.
     * @param {string} buf - The buffer to send.
     */    
    write: function(buf) {
        this.send_buf = buf;
    },

    /**
     * Returns the send buffer.
     * @readonly
     * @returns {string} The send buffer.
     */ 
    getSendBuffer: function() {
        return this.send_buf;
    }

};


/**
 * Constructor Function for the WebSocket transport.
 * @constructor
 * @param {string} [url] - The URL to connect to.
 * @classdesc The Apache Thrift Transport layer performs byte level I/O 
 * between RPC clients and servers. The JavaScript TWebSocketTransport object 
 * uses the WebSocket protocol. Target servers must implement WebSocket.
 * (see: node.js example server_http.js).
 * @example
 *   var transport = new Thrift.TWebSocketTransport("http://localhost:8585");
 */
Thrift.TWebSocketTransport = function(url) {
    this.__reset(url);
};

Thrift.TWebSocketTransport.prototype = {
    __reset: function(url) {
      this.url = url;             //Where to connect
      this.socket = null;         //The web socket
      this.callbacks = [];        //Pending callbacks
      this.send_pending = [];     //Buffers/Callback pairs waiting to be sent
      this.send_buf = '';         //Outbound data, immutable until sent
      this.recv_buf = '';         //Inbound data
      this.rb_wpos = 0;           //Network write position in receive buffer
      this.rb_rpos = 0;           //Client read position in receive buffer
    },

    /**
     * Sends the current WS request and registers callback. The async 
     * parameter is ignored (WS flush is always async) and the callback 
     * function parameter is required.
     * @param {object} async - Ignored.
     * @param {object} callback - The client completion callback.
     * @returns {undefined|string} Nothing (undefined) 
     */
    flush: function(async, callback) {
      var self = this;
      if (this.isOpen()) {
        //Send data and register a callback to invoke the client callback
        this.socket.send(this.send_buf); 
        this.callbacks.push((function() {
          var clientCallback = callback;    
          return function(msg) {
            self.setRecvBuffer(msg);
            clientCallback();
          };
        }()));
      } else {
        //Queue the send to go out __onOpen
        this.send_pending.push({
          buf: this.send_buf,
          cb:  callback
        });
      }
    },

    __onOpen: function() { 
       var self = this;
       if (this.send_pending.length > 0) {
          //If the user made calls before the connection was fully 
          //open, send them now
          this.send_pending.forEach(function(elem) {
             this.socket.send(elem.buf);
             this.callbacks.push((function() {
               var clientCallback = elem.cb;    
               return function(msg) {
                  self.setRecvBuffer(msg);
                  clientCallback();
               };
             }()));
          });
          this.send_pending = [];
       }
    },
    
    __onClose: function(evt) { 
      this.__reset(this.url);
    },
     
    __onMessage: function(evt) {
      if (this.callbacks.length) {
        this.callbacks.shift()(evt.data);
      }
    },
     
    __onError: function(evt) { 
      console.log("Thrift WebSocket Error: " + evt.toString());
      this.socket.close();
    },

    /**
     * Sets the buffer to use when receiving server responses.
     * @param {string} buf - The buffer to receive server responses.
     */
    setRecvBuffer: function(buf) {
        this.recv_buf = buf;
        this.recv_buf_sz = this.recv_buf.length;
        this.wpos = this.recv_buf.length;
        this.rpos = 0;
    },

    /**
     * Returns true if the transport is open
     * @readonly
     * @returns {boolean} 
     */    
    isOpen: function() {
        return this.socket && this.socket.readyState == this.socket.OPEN;
    },

    /**
     * Opens the transport connection
     */    
    open: function() {
      //If OPEN/CONNECTING/CLOSING ignore additional opens
      if (this.socket && this.socket.readyState != this.socket.CLOSED) {
        return;
      }
      //If there is no socket or the socket is closed:
      this.socket = new WebSocket(this.url);
      this.socket.onopen = this.__onOpen.bind(this); 
      this.socket.onmessage = this.__onMessage.bind(this); 
      this.socket.onerror = this.__onError.bind(this); 
      this.socket.onclose = this.__onClose.bind(this); 
    },

    /**
     * Closes the transport connection
     */    
    close: function() {
      this.socket.close();
    },

    /**
     * Returns the specified number of characters from the response
     * buffer.
     * @param {number} len - The number of characters to return.
     * @returns {string} Characters sent by the server.
     */
    read: function(len) {
        var avail = this.wpos - this.rpos;

        if (avail === 0) {
            return '';
        }

        var give = len;

        if (avail < len) {
            give = avail;
        }

        var ret = this.read_buf.substr(this.rpos, give);
        this.rpos += give;

        //clear buf when complete?
        return ret;
    },

    /**
     * Returns the entire response buffer.
     * @returns {string} Characters sent by the server.
     */
    readAll: function() {
        return this.recv_buf;
    },

    /**
     * Sets the send buffer to buf.
     * @param {string} buf - The buffer to send.
     */    
    write: function(buf) {
        this.send_buf = buf;
    },

    /**
     * Returns the send buffer.
     * @readonly
     * @returns {string} The send buffer.
     */ 
    getSendBuffer: function() {
        return this.send_buf;
    }

};

/**
 * Initializes a Thrift JSON protocol instance.
 * @constructor
 * @param {Thrift.Transport} transport - The transport to serialize to/from.
 * @classdesc Apache Thrift Protocols perform serialization which enables cross 
 * language RPC. The Protocol type is the JavaScript browser implementation 
 * of the Apache Thrift TJSONProtocol.
 * @example
 *     var protocol  = new Thrift.Protocol(transport);
 */
Thrift.TJSONProtocol = Thrift.Protocol = function(transport) {
    this.transport = transport;
};

/**
 * Thrift IDL type Id to string mapping.
 * @readonly
 * @see {@link Thrift.Type}
 */
Thrift.Protocol.Type = {};
Thrift.Protocol.Type[Thrift.Type.BOOL] = '"tf"';
Thrift.Protocol.Type[Thrift.Type.BYTE] = '"i8"';
Thrift.Protocol.Type[Thrift.Type.I16] = '"i16"';
Thrift.Protocol.Type[Thrift.Type.I32] = '"i32"';
Thrift.Protocol.Type[Thrift.Type.I64] = '"i64"';
Thrift.Protocol.Type[Thrift.Type.DOUBLE] = '"dbl"';
Thrift.Protocol.Type[Thrift.Type.STRUCT] = '"rec"';
Thrift.Protocol.Type[Thrift.Type.STRING] = '"str"';
Thrift.Protocol.Type[Thrift.Type.MAP] = '"map"';
Thrift.Protocol.Type[Thrift.Type.LIST] = '"lst"';
Thrift.Protocol.Type[Thrift.Type.SET] = '"set"';

/**
 * Thrift IDL type string to Id mapping.
 * @readonly
 * @see {@link Thrift.Type}
 */
Thrift.Protocol.RType = {};
Thrift.Protocol.RType.tf = Thrift.Type.BOOL;
Thrift.Protocol.RType.i8 = Thrift.Type.BYTE;
Thrift.Protocol.RType.i16 = Thrift.Type.I16;
Thrift.Protocol.RType.i32 = Thrift.Type.I32;
Thrift.Protocol.RType.i64 = Thrift.Type.I64;
Thrift.Protocol.RType.dbl = Thrift.Type.DOUBLE;
Thrift.Protocol.RType.rec = Thrift.Type.STRUCT;
Thrift.Protocol.RType.str = Thrift.Type.STRING;
Thrift.Protocol.RType.map = Thrift.Type.MAP;
Thrift.Protocol.RType.lst = Thrift.Type.LIST;
Thrift.Protocol.RType.set = Thrift.Type.SET;

/**
 * The TJSONProtocol version number.
 * @readonly
 * @const {number} Version
 * @memberof Thrift.Protocol
 */
 Thrift.Protocol.Version = 1;

Thrift.Protocol.prototype = {
    /**
     * Returns the underlying transport.
     * @readonly
     * @returns {Thrift.Transport} The underlying transport.
     */ 
    getTransport: function() {
        return this.transport;
    },

    /**
     * Serializes the beginning of a Thrift RPC message.
     * @param {string} name - The service method to call.
     * @param {Thrift.MessageType} messageType - The type of method call.
     * @param {number} seqid - The sequence number of this call (always 0 in Apache Thrift).
     */
    writeMessageBegin: function(name, messageType, seqid) {
        this.tstack = [];
        this.tpos = [];

        this.tstack.push([Thrift.Protocol.Version, '"' +
            name + '"', messageType, seqid]);
    },

    /**
     * Serializes the end of a Thrift RPC message.
     */
    writeMessageEnd: function() {
        var obj = this.tstack.pop();

        this.wobj = this.tstack.pop();
        this.wobj.push(obj);

        this.wbuf = '[' + this.wobj.join(',') + ']';

        this.transport.write(this.wbuf);
     },


    /**
     * Serializes the beginning of a struct.
     * @param {string} name - The name of the struct.
     */
    writeStructBegin: function(name) {
        this.tpos.push(this.tstack.length);
        this.tstack.push({});
    },

    /**
     * Serializes the end of a struct.
     */
    writeStructEnd: function() {

        var p = this.tpos.pop();
        var struct = this.tstack[p];
        var str = '{';
        var first = true;
        for (var key in struct) {
            if (first) {
                first = false;
            } else {
                str += ',';
            }

            str += key + ':' + struct[key];
        }

        str += '}';
        this.tstack[p] = str;
    },

    /**
     * Serializes the beginning of a struct field.
     * @param {string} name - The name of the field.
     * @param {Thrift.Protocol.Type} fieldType - The data type of the field.
     * @param {number} fieldId - The field's unique identifier.
     */
    writeFieldBegin: function(name, fieldType, fieldId) {
        this.tpos.push(this.tstack.length);
        this.tstack.push({ 'fieldId': '"' +
            fieldId + '"', 'fieldType': Thrift.Protocol.Type[fieldType]
        });

    },

    /**
     * Serializes the end of a field.
     */
    writeFieldEnd: function() {
        var value = this.tstack.pop();
        var fieldInfo = this.tstack.pop();

        this.tstack[this.tstack.length - 1][fieldInfo.fieldId] = '{' +
            fieldInfo.fieldType + ':' + value + '}';
        this.tpos.pop();
    },

    /**
     * Serializes the end of the set of fields for a struct.
     */
    writeFieldStop: function() {
        //na
    },

    /**
     * Serializes the beginning of a map collection.
     * @param {Thrift.Type} keyType - The data type of the key.
     * @param {Thrift.Type} valType - The data type of the value.
     * @param {number} [size] - The number of elements in the map (ignored).
     */
    writeMapBegin: function(keyType, valType, size) {
        this.tpos.push(this.tstack.length);
        this.tstack.push([Thrift.Protocol.Type[keyType],
            Thrift.Protocol.Type[valType], 0]);
    },

    /**
     * Serializes the end of a map.
     */
    writeMapEnd: function() {
        var p = this.tpos.pop();

        if (p == this.tstack.length) {
            return;
        }

        if ((this.tstack.length - p - 1) % 2 !== 0) {
            this.tstack.push('');
        }

        var size = (this.tstack.length - p - 1) / 2;

        this.tstack[p][this.tstack[p].length - 1] = size;

        var map = '}';
        var first = true;
        while (this.tstack.length > p + 1) {
            var v = this.tstack.pop();
            var k = this.tstack.pop();
            if (first) {
                first = false;
            } else {
                map = ',' + map;
            }

            if (! isNaN(k)) { k = '"' + k + '"'; } //json "keys" need to be strings
            map = k + ':' + v + map;
        }
        map = '{' + map;

        this.tstack[p].push(map);
        this.tstack[p] = '[' + this.tstack[p].join(',') + ']';
    },

    /**
     * Serializes the beginning of a list collection.
     * @param {Thrift.Type} elemType - The data type of the elements.
     * @param {number} size - The number of elements in the list.
     */
    writeListBegin: function(elemType, size) {
        this.tpos.push(this.tstack.length);
        this.tstack.push([Thrift.Protocol.Type[elemType], size]);
    },

    /**
     * Serializes the end of a list.
     */
    writeListEnd: function() {
        var p = this.tpos.pop();

        while (this.tstack.length > p + 1) {
            var tmpVal = this.tstack[p + 1];
            this.tstack.splice(p + 1, 1);
            this.tstack[p].push(tmpVal);
        }

        this.tstack[p] = '[' + this.tstack[p].join(',') + ']';
    },

    /**
     * Serializes the beginning of a set collection.
     * @param {Thrift.Type} elemType - The data type of the elements.
     * @param {number} size - The number of elements in the list.
     */
    writeSetBegin: function(elemType, size) {
        this.tpos.push(this.tstack.length);
        this.tstack.push([Thrift.Protocol.Type[elemType], size]);
    },

    /**
     * Serializes the end of a set.
     */
    writeSetEnd: function() {
        var p = this.tpos.pop();

        while (this.tstack.length > p + 1) {
            var tmpVal = this.tstack[p + 1];
            this.tstack.splice(p + 1, 1);
            this.tstack[p].push(tmpVal);
        }

        this.tstack[p] = '[' + this.tstack[p].join(',') + ']';
    },

    /** Serializes a boolean */
    writeBool: function(value) {
        this.tstack.push(value ? 1 : 0);
    },

    /** Serializes a number */
    writeByte: function(i8) {
        this.tstack.push(i8);
    },

    /** Serializes a number */
    writeI16: function(i16) {
        this.tstack.push(i16);
    },

    /** Serializes a number */
    writeI32: function(i32) {
        this.tstack.push(i32);
    },

    /** Serializes a number */
    writeI64: function(i64) {
        this.tstack.push(i64);
    },

    /** Serializes a number */
    writeDouble: function(dbl) {
        this.tstack.push(dbl);
    },

    /** Serializes a string */
    writeString: function(str) {
        // We do not encode uri components for wire transfer:
        if (str === null) {
            this.tstack.push(null);
        } else {
            // concat may be slower than building a byte buffer
            var escapedString = '';
            for (var i = 0; i < str.length; i++) {
                var ch = str.charAt(i);      // a single double quote: "
                if (ch === '\"') {
                    escapedString += '\\\"'; // write out as: \"
                } else if (ch === '\\') {    // a single backslash
                    escapedString += '\\\\'; // write out as double backslash 
                } else if (ch === '\b') {    // a single backspace: invisible
                    escapedString += '\\b';  // write out as: \b"
                } else if (ch === '\f') {    // a single formfeed: invisible
                    escapedString += '\\f';  // write out as: \f"
                } else if (ch === '\n') {    // a single newline: invisible
                    escapedString += '\\n';  // write out as: \n"
                } else if (ch === '\r') {    // a single return: invisible
                    escapedString += '\\r';  // write out as: \r"
                } else if (ch === '\t') {    // a single tab: invisible
                    escapedString += '\\t';  // write out as: \t"
                } else {
                    escapedString += ch;     // Else it need not be escaped
                }
            }
            this.tstack.push('"' + escapedString + '"');
        }
    },

    /** Serializes a string */
    writeBinary: function(str) {
        this.writeString(str);
    },

    /**
       @class
       @name AnonReadMessageBeginReturn
       @property {string} fname - The name of the service method.
       @property {Thrift.MessageType} mtype - The type of message call.
       @property {number} rseqid - The sequence number of the message (0 in Thrift RPC).
     */
    /** 
     * Deserializes the beginning of a message. 
     * @returns {AnonReadMessageBeginReturn}
     */
    readMessageBegin: function() {
        this.rstack = [];
        this.rpos = [];

        if (typeof JSON !== 'undefined' && typeof JSON.parse === 'function') {
            this.robj = JSON.parse(this.transport.readAll());
        } else if (typeof jQuery !== 'undefined') {
            this.robj = jQuery.parseJSON(this.transport.readAll());
        } else {
            this.robj = eval(this.transport.readAll());
        }

        var r = {};
        var version = this.robj.shift();

        if (version != Thrift.Protocol.Version) {
            throw 'Wrong thrift protocol version: ' + version;
        }

        r.fname = this.robj.shift();
        r.mtype = this.robj.shift();
        r.rseqid = this.robj.shift();


        //get to the main obj
        this.rstack.push(this.robj.shift());

        return r;
    },

    /** Deserializes the end of a message. */
    readMessageEnd: function() {
    },

    /** 
     * Deserializes the beginning of a struct. 
     * @param {string} [name] - The name of the struct (ignored)
     * @returns {object} - An object with an empty string fname property
     */    
    readStructBegin: function(name) {
        var r = {};
        r.fname = '';

        //incase this is an array of structs
        if (this.rstack[this.rstack.length - 1] instanceof Array) {
            this.rstack.push(this.rstack[this.rstack.length - 1].shift());
        }

        return r;
    },

    /** Deserializes the end of a struct. */
    readStructEnd: function() {
        if (this.rstack[this.rstack.length - 2] instanceof Array) {
            this.rstack.pop();
        }
    },

    /**
       @class
       @name AnonReadFieldBeginReturn
       @property {string} fname - The name of the field (always '').
       @property {Thrift.Type} ftype - The data type of the field.
       @property {number} fid - The unique identifier of the field.
     */
    /** 
     * Deserializes the beginning of a field. 
     * @returns {AnonReadFieldBeginReturn}
     */
    readFieldBegin: function() {
        var r = {};

        var fid = -1;
        var ftype = Thrift.Type.STOP;

        //get a fieldId
        for (var f in (this.rstack[this.rstack.length - 1])) {
            if (f === null) {
              continue;
            }

            fid = parseInt(f, 10);
            this.rpos.push(this.rstack.length);

            var field = this.rstack[this.rstack.length - 1][fid];

            //remove so we don't see it again
            delete this.rstack[this.rstack.length - 1][fid];

            this.rstack.push(field);

            break;
        }

        if (fid != -1) {

            //should only be 1 of these but this is the only
            //way to match a key
            for (var i in (this.rstack[this.rstack.length - 1])) {
                if (Thrift.Protocol.RType[i] === null) {
                    continue;
                }

                ftype = Thrift.Protocol.RType[i];
                this.rstack[this.rstack.length - 1] =
                    this.rstack[this.rstack.length - 1][i];
            }
        }

        r.fname = '';
        r.ftype = ftype;
        r.fid = fid;

        return r;
    },

    /** Deserializes the end of a field. */
    readFieldEnd: function() {
        var pos = this.rpos.pop();

        //get back to the right place in the stack
        while (this.rstack.length > pos) {
            this.rstack.pop();
        }

    },

    /**
       @class
       @name AnonReadMapBeginReturn
       @property {Thrift.Type} ktype - The data type of the key.
       @property {Thrift.Type} vtype - The data type of the value.
       @property {number} size - The number of elements in the map.
     */
    /** 
     * Deserializes the beginning of a map. 
     * @returns {AnonReadMapBeginReturn}
     */
    readMapBegin: function() {
        var map = this.rstack.pop();
        var first = map.shift();
        if (first instanceof Array) {
          this.rstack.push(map);
          map = first;
          first = map.shift();
        }

        var r = {};
        r.ktype = Thrift.Protocol.RType[first];
        r.vtype = Thrift.Protocol.RType[map.shift()];
        r.size = map.shift();


        this.rpos.push(this.rstack.length);
        this.rstack.push(map.shift());

        return r;
    },

    /** Deserializes the end of a map. */
    readMapEnd: function() {
        this.readFieldEnd();
    },

    /**
       @class
       @name AnonReadColBeginReturn
       @property {Thrift.Type} etype - The data type of the element.
       @property {number} size - The number of elements in the collection.
     */
    /** 
     * Deserializes the beginning of a list. 
     * @returns {AnonReadColBeginReturn}
     */
    readListBegin: function() {
        var list = this.rstack[this.rstack.length - 1];

        var r = {};
        r.etype = Thrift.Protocol.RType[list.shift()];
        r.size = list.shift();

        this.rpos.push(this.rstack.length);
        this.rstack.push(list);

        return r;
    },

    /** Deserializes the end of a list. */
    readListEnd: function() {
        this.readFieldEnd();
    },

    /** 
     * Deserializes the beginning of a set. 
     * @returns {AnonReadColBeginReturn}
     */
    readSetBegin: function(elemType, size) {
        return this.readListBegin(elemType, size);
    },

    /** Deserializes the end of a set. */
    readSetEnd: function() {
        return this.readListEnd();
    },

    /** Returns an object with a value property set to 
     *  False unless the next number in the protocol buffer 
     *  is 1, in which case teh value property is True */
    readBool: function() {
        var r = this.readI32();

        if (r !== null && r.value == '1') {
            r.value = true;
        } else {
            r.value = false;
        }

        return r;
    },

    /** Returns the an object with a value property set to the 
        next value found in the protocol buffer */
    readByte: function() {
        return this.readI32();
    },

    /** Returns the an object with a value property set to the 
        next value found in the protocol buffer */
    readI16: function() {
        return this.readI32();
    },

    /** Returns the an object with a value property set to the 
        next value found in the protocol buffer */
    readI32: function(f) {
        if (f === undefined) {
            f = this.rstack[this.rstack.length - 1];
        }

        var r = {};

        if (f instanceof Array) {
            if (f.length === 0) {
                r.value = undefined;
            } else {
                r.value = f.shift();
            }
        } else if (f instanceof Object) {
           for (var i in f) {
                if (i === null) {
                  continue;
                }
                this.rstack.push(f[i]);
                delete f[i];

                r.value = i;
                break;
           }
        } else {
            r.value = f;
            this.rstack.pop();
        }

        return r;
    },

    /** Returns the an object with a value property set to the 
        next value found in the protocol buffer */
    readI64: function() {
        return this.readI32();
    },

    /** Returns the an object with a value property set to the 
        next value found in the protocol buffer */
    readDouble: function() {
        return this.readI32();
    },

    /** Returns the an object with a value property set to the 
        next value found in the protocol buffer */
    readString: function() {
        var r = this.readI32();
        return r;
    },

    /** Returns the an object with a value property set to the 
        next value found in the protocol buffer */
    readBinary: function() {
        return this.readString();
    },

    /** 
     * Method to arbitrarily skip over data */
    skip: function(type) {
        var ret, i;
        switch (type) {
            case Thrift.Type.STOP:
                return null;

            case Thrift.Type.BOOL:
                return this.readBool();

            case Thrift.Type.BYTE:
                return this.readByte();

            case Thrift.Type.I16:
                return this.readI16();

            case Thrift.Type.I32:
                return this.readI32();

            case Thrift.Type.I64:
                return this.readI64();

            case Thrift.Type.DOUBLE:
                return this.readDouble();

            case Thrift.Type.STRING:
                return this.readString();

            case Thrift.Type.STRUCT:
                this.readStructBegin();
                while (true) {
                    ret = this.readFieldBegin();
                    if (ret.ftype == Thrift.Type.STOP) {
                        break;
                    }
                    this.skip(ret.ftype);
                    this.readFieldEnd();
                }
                this.readStructEnd();
                return null;

            case Thrift.Type.MAP:
                ret = this.readMapBegin();
                for (i = 0; i < ret.size; i++) {
                    if (i > 0) {
                        if (this.rstack.length > this.rpos[this.rpos.length - 1] + 1) {
                            this.rstack.pop();
                        }
                    }
                    this.skip(ret.ktype);
                    this.skip(ret.vtype);
                }
                this.readMapEnd();
                return null;

            case Thrift.Type.SET:
                ret = this.readSetBegin();
                for (i = 0; i < ret.size; i++) {
                    this.skip(ret.etype);
                }
                this.readSetEnd();
                return null;

            case Thrift.Type.LIST:
                ret = this.readListBegin();
                for (i = 0; i < ret.size; i++) {
                    this.skip(ret.etype);
                }
                this.readListEnd();
                return null;
        }
    }
};


/**
 * Initializes a MutilplexProtocol Implementation as a Wrapper for Thrift.Protocol
 * @constructor
 */
Thrift.MultiplexProtocol = function (srvName, trans, strictRead, strictWrite) {
    Thrift.Protocol.call(this, trans, strictRead, strictWrite);
    this.serviceName = srvName;
};
Thrift.inherits(Thrift.MultiplexProtocol, Thrift.Protocol, 'multiplexProtocol');

/** Override writeMessageBegin method of prototype*/
Thrift.MultiplexProtocol.prototype.writeMessageBegin = function (name, type, seqid) {

    if (type === Thrift.MessageType.CALL || type === Thrift.MessageType.ONEWAY) {
        Thrift.Protocol.prototype.writeMessageBegin.call(this, this.serviceName + ":" + name, type, seqid);
    } else {
        Thrift.Protocol.prototype.writeMessageBegin.call(this, name, type, seqid);
    }
};

Thrift.Multiplexer = function () {
    this.seqid = 0;
};

/** Instantiates a multiplexed client for a specific service
 * @constructor
 * @param {String} serviceName - The transport to serialize to/from.
 * @param {Thrift.ServiceClient} SCl - The Service Client Class
 * @param {Thrift.Transport} transport - Thrift.Transport instance which provides remote host:port
 * @example
 *    var mp = new Thrift.Multiplexer();
 *    var transport = new Thrift.Transport("http://localhost:9090/foo.thrift");
 *    var protocol = new Thrift.Protocol(transport);
 *    var client = mp.createClient('AuthService', AuthServiceClient, transport);
*/
Thrift.Multiplexer.prototype.createClient = function (serviceName, SCl, transport) {
    if (SCl.Client) {
        SCl = SCl.Client;
    }
    var self = this;
    SCl.prototype.new_seqid = function () {
        self.seqid += 1;
        return self.seqid;
    };
    var client = new SCl(new Thrift.MultiplexProtocol(serviceName, transport));

    return client;
};

; browserify_shim__define__module__export__(typeof Thrift != "undefined" ? Thrift : window.Thrift);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],4:[function(require,module,exports){
var Thrift = require('thrift');
var TUserServiceClient = require('TUserServiceClient');

var transport = new Thrift.Transport("http://localhost:8080/user");
var protocol = new Thrift.Protocol(transport);
var client = new TUserServiceClient(protocol);

console.log(Thrift);
console.log(client);
//client.findFamilies();
window.client = client;
},{"TUserServiceClient":1,"thrift":3}]},{},[4])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjOlxcVXNlcnNcXG1ha2l0cy5SREhcXGdpdFxcbW9uZXlnclxcc3JjXFxtYWluXFxyZXNvdXJjZXNcXHN0YXRpY1xcZ2VuLWpzXFxUVXNlclNlcnZpY2UuanMiLCJjOlxcVXNlcnNcXG1ha2l0cy5SREhcXGdpdFxcbW9uZXlnclxcc3JjXFxtYWluXFxyZXNvdXJjZXNcXHN0YXRpY1xcZ2VuLWpzXFxtb25leWdyX3R5cGVzLmpzIiwiYzpcXFVzZXJzXFxtYWtpdHMuUkRIXFxnaXRcXG1vbmV5Z3JcXHNyY1xcbWFpblxccmVzb3VyY2VzXFxzdGF0aWNcXGxpYlxcdGhyaWZ0LmpzIiwiYzpcXFVzZXJzXFxtYWtpdHMuUkRIXFxnaXRcXG1vbmV5Z3JcXHNyY1xcbWFpblxccmVzb3VyY2VzXFxzdGF0aWNcXHNyY1xcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUEsRUFBRTtBQUNGLDJDQUEyQztBQUMzQyxFQUFFO0FBQ0YsbUVBQW1FO0FBQ25FLEVBQUU7QUFDRjs7QUFFQSxpQ0FBaUM7O0FBRWpDLDhCQUE4QixHQUFHLFNBQVMsSUFBSSxFQUFFO0NBQy9DLENBQUM7QUFDRiw4QkFBOEIsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQzlDLDhCQUE4QixDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsU0FBUyxLQUFLLEVBQUU7RUFDOUQsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO0VBQ3hCLE9BQU8sSUFBSTtFQUNYO0lBQ0UsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ2pDLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDdEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztJQUN0QixJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFD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RSxDQUFDO0FBQzFCLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQ2hELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQ2hELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ2hELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ2hELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ2hELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ2hELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0FBQ2pELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDOztBQUVoRDtBQUNBO0FBQ0E7O0dBRUc7QUFDSCxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDM0IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0FBQzVDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztBQUM1QyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDNUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQzVDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztBQUM1QyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDL0MsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQy9DLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUMvQyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDNUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0FBQzdDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7O0dBRUc7QUFDSCxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQzs7QUFFN0IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0lBRUksWUFBWSxFQUFFLFdBQVc7UUFDckIsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0FBQzlCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0lBRUksaUJBQWlCLEVBQUUsU0FBUyxJQUFJLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRTtRQUNsRCxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUN6QixRQUFRLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDOztRQUVmLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsR0FBRztZQUMxQyxJQUFJLEdBQUcsR0FBRyxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQzdDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0lBRUksZUFBZSxFQUFFLFdBQVc7QUFDaEMsUUFBUSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDOztRQUU1QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDdEMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFNUIsUUFBUSxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7O1FBRTVDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN4QyxNQUFNO0FBQ047QUFDQTtB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QUM5QyxJQUFJLE1BQU0sR0FBRyxJQUFJLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU5QyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3BCLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDcEIsd0JBQXdCO0FBQ3hCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vXHJcbi8vIEF1dG9nZW5lcmF0ZWQgYnkgVGhyaWZ0IENvbXBpbGVyICgwLjkuMilcclxuLy9cclxuLy8gRE8gTk9UIEVESVQgVU5MRVNTIFlPVSBBUkUgU1VSRSBUSEFUIFlPVSBLTk9XIFdIQVQgWU9VIEFSRSBET0lOR1xyXG4vL1xyXG5cclxuXHJcbi8vSEVMUEVSIEZVTkNUSU9OUyBBTkQgU1RSVUNUVVJFU1xyXG5cclxuVFVzZXJTZXJ2aWNlX2ZpbmRGYW1pbGllc19hcmdzID0gZnVuY3Rpb24oYXJncykge1xyXG59O1xyXG5UVXNlclNlcnZpY2VfZmluZEZhbWlsaWVzX2FyZ3MucHJvdG90eXBlID0ge307XHJcblRVc2VyU2VydmljZV9maW5kRmFtaWxpZXNfYXJncy5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgaW5wdXQucmVhZFN0cnVjdEJlZ2luKCk7XHJcbiAgd2hpbGUgKHRydWUpXHJcbiAge1xyXG4gICAgdmFyIHJldCA9IGlucHV0LnJlYWRGaWVsZEJlZ2luKCk7XHJcbiAgICB2YXIgZm5hbWUgPSByZXQuZm5hbWU7XHJcbiAgICB2YXIgZnR5cGUgPSByZXQuZnR5cGU7XHJcbiAgICB2YXIgZmlkID0gcmV0LmZpZDtcclxuICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVE9QKSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICBpbnB1dC5yZWFkRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaW5wdXQucmVhZFN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRVc2VyU2VydmljZV9maW5kRmFtaWxpZXNfYXJncy5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihvdXRwdXQpIHtcclxuICBvdXRwdXQud3JpdGVTdHJ1Y3RCZWdpbignVFVzZXJTZXJ2aWNlX2ZpbmRGYW1pbGllc19hcmdzJyk7XHJcbiAgb3V0cHV0LndyaXRlRmllbGRTdG9wKCk7XHJcbiAgb3V0cHV0LndyaXRlU3RydWN0RW5kKCk7XHJcbiAgcmV0dXJuO1xyXG59O1xyXG5cclxuVFVzZXJTZXJ2aWNlX2ZpbmRGYW1pbGllc19yZXN1bHQgPSBmdW5jdGlvbihhcmdzKSB7XHJcbiAgdGhpcy5zdWNjZXNzID0gbnVsbDtcclxuICBpZiAoYXJncykge1xyXG4gICAgaWYgKGFyZ3Muc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc3VjY2VzcyA9IGFyZ3Muc3VjY2VzcztcclxuICAgIH1cclxuICB9XHJcbn07XHJcblRVc2VyU2VydmljZV9maW5kRmFtaWxpZXNfcmVzdWx0LnByb3RvdHlwZSA9IHt9O1xyXG5UVXNlclNlcnZpY2VfZmluZEZhbWlsaWVzX3Jlc3VsdC5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgaW5wdXQucmVhZFN0cnVjdEJlZ2luKCk7XHJcbiAgd2hpbGUgKHRydWUpXHJcbiAge1xyXG4gICAgdmFyIHJldCA9IGlucHV0LnJlYWRGaWVsZEJlZ2luKCk7XHJcbiAgICB2YXIgZm5hbWUgPSByZXQuZm5hbWU7XHJcbiAgICB2YXIgZnR5cGUgPSByZXQuZnR5cGU7XHJcbiAgICB2YXIgZmlkID0gcmV0LmZpZDtcclxuICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVE9QKSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChmaWQpXHJcbiAgICB7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLkxJU1QpIHtcclxuICAgICAgICB2YXIgX3NpemU4ID0gMDtcclxuICAgICAgICB2YXIgX3J0bXAzMTI7XHJcbiAgICAgICAgdGhpcy5zdWNjZXNzID0gW107XHJcbiAgICAgICAgdmFyIF9ldHlwZTExID0gMDtcclxuICAgICAgICBfcnRtcDMxMiA9IGlucHV0LnJlYWRMaXN0QmVnaW4oKTtcclxuICAgICAgICBfZXR5cGUxMSA9IF9ydG1wMzEyLmV0eXBlO1xyXG4gICAgICAgIF9zaXplOCA9IF9ydG1wMzEyLnNpemU7XHJcbiAgICAgICAgZm9yICh2YXIgX2kxMyA9IDA7IF9pMTMgPCBfc2l6ZTg7ICsrX2kxMylcclxuICAgICAgICB7XHJcbiAgICAgICAgICB2YXIgZWxlbTE0ID0gbnVsbDtcclxuICAgICAgICAgIGVsZW0xNCA9IG5ldyBURmFtaWx5KCk7XHJcbiAgICAgICAgICBlbGVtMTQucmVhZChpbnB1dCk7XHJcbiAgICAgICAgICB0aGlzLnN1Y2Nlc3MucHVzaChlbGVtMTQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnB1dC5yZWFkTGlzdEVuZCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICB9XHJcbiAgICBpbnB1dC5yZWFkRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaW5wdXQucmVhZFN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRVc2VyU2VydmljZV9maW5kRmFtaWxpZXNfcmVzdWx0LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdUVXNlclNlcnZpY2VfZmluZEZhbWlsaWVzX3Jlc3VsdCcpO1xyXG4gIGlmICh0aGlzLnN1Y2Nlc3MgIT09IG51bGwgJiYgdGhpcy5zdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkQmVnaW4oJ3N1Y2Nlc3MnLCBUaHJpZnQuVHlwZS5MSVNULCAwKTtcclxuICAgIG91dHB1dC53cml0ZUxpc3RCZWdpbihUaHJpZnQuVHlwZS5TVFJVQ1QsIHRoaXMuc3VjY2Vzcy5sZW5ndGgpO1xyXG4gICAgZm9yICh2YXIgaXRlcjE1IGluIHRoaXMuc3VjY2VzcylcclxuICAgIHtcclxuICAgICAgaWYgKHRoaXMuc3VjY2Vzcy5oYXNPd25Qcm9wZXJ0eShpdGVyMTUpKVxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlcjE1ID0gdGhpcy5zdWNjZXNzW2l0ZXIxNV07XHJcbiAgICAgICAgaXRlcjE1LndyaXRlKG91dHB1dCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG91dHB1dC53cml0ZUxpc3RFbmQoKTtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkRW5kKCk7XHJcbiAgfVxyXG4gIG91dHB1dC53cml0ZUZpZWxkU3RvcCgpO1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRVc2VyU2VydmljZV9maW5kVXNlcl9hcmdzID0gZnVuY3Rpb24oYXJncykge1xyXG4gIHRoaXMudXNlcklkID0gbnVsbDtcclxuICBpZiAoYXJncykge1xyXG4gICAgaWYgKGFyZ3MudXNlcklkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy51c2VySWQgPSBhcmdzLnVzZXJJZDtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblRVc2VyU2VydmljZV9maW5kVXNlcl9hcmdzLnByb3RvdHlwZSA9IHt9O1xyXG5UVXNlclNlcnZpY2VfZmluZFVzZXJfYXJncy5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgaW5wdXQucmVhZFN0cnVjdEJlZ2luKCk7XHJcbiAgd2hpbGUgKHRydWUpXHJcbiAge1xyXG4gICAgdmFyIHJldCA9IGlucHV0LnJlYWRGaWVsZEJlZ2luKCk7XHJcbiAgICB2YXIgZm5hbWUgPSByZXQuZm5hbWU7XHJcbiAgICB2YXIgZnR5cGUgPSByZXQuZnR5cGU7XHJcbiAgICB2YXIgZmlkID0gcmV0LmZpZDtcclxuICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVE9QKSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChmaWQpXHJcbiAgICB7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLkkzMikge1xyXG4gICAgICAgIHRoaXMudXNlcklkID0gaW5wdXQucmVhZEkzMigpLnZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICB9XHJcbiAgICBpbnB1dC5yZWFkRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaW5wdXQucmVhZFN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRVc2VyU2VydmljZV9maW5kVXNlcl9hcmdzLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdUVXNlclNlcnZpY2VfZmluZFVzZXJfYXJncycpO1xyXG4gIGlmICh0aGlzLnVzZXJJZCAhPT0gbnVsbCAmJiB0aGlzLnVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCd1c2VySWQnLCBUaHJpZnQuVHlwZS5JMzIsIDEpO1xyXG4gICAgb3V0cHV0LndyaXRlSTMyKHRoaXMudXNlcklkKTtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkRW5kKCk7XHJcbiAgfVxyXG4gIG91dHB1dC53cml0ZUZpZWxkU3RvcCgpO1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRVc2VyU2VydmljZV9maW5kVXNlcl9yZXN1bHQgPSBmdW5jdGlvbihhcmdzKSB7XHJcbiAgdGhpcy5zdWNjZXNzID0gbnVsbDtcclxuICBpZiAoYXJncykge1xyXG4gICAgaWYgKGFyZ3Muc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc3VjY2VzcyA9IGFyZ3Muc3VjY2VzcztcclxuICAgIH1cclxuICB9XHJcbn07XHJcblRVc2VyU2VydmljZV9maW5kVXNlcl9yZXN1bHQucHJvdG90eXBlID0ge307XHJcblRVc2VyU2VydmljZV9maW5kVXNlcl9yZXN1bHQucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbihpbnB1dCkge1xyXG4gIGlucHV0LnJlYWRTdHJ1Y3RCZWdpbigpO1xyXG4gIHdoaWxlICh0cnVlKVxyXG4gIHtcclxuICAgIHZhciByZXQgPSBpbnB1dC5yZWFkRmllbGRCZWdpbigpO1xyXG4gICAgdmFyIGZuYW1lID0gcmV0LmZuYW1lO1xyXG4gICAgdmFyIGZ0eXBlID0gcmV0LmZ0eXBlO1xyXG4gICAgdmFyIGZpZCA9IHJldC5maWQ7XHJcbiAgICBpZiAoZnR5cGUgPT0gVGhyaWZ0LlR5cGUuU1RPUCkge1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHN3aXRjaCAoZmlkKVxyXG4gICAge1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVFJVQ1QpIHtcclxuICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBuZXcgVFVzZXIoKTtcclxuICAgICAgICB0aGlzLnN1Y2Nlc3MucmVhZChpbnB1dCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgICBpbnB1dC5za2lwKGZ0eXBlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBpbnB1dC5za2lwKGZ0eXBlKTtcclxuICAgIH1cclxuICAgIGlucHV0LnJlYWRGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBpbnB1dC5yZWFkU3RydWN0RW5kKCk7XHJcbiAgcmV0dXJuO1xyXG59O1xyXG5cclxuVFVzZXJTZXJ2aWNlX2ZpbmRVc2VyX3Jlc3VsdC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihvdXRwdXQpIHtcclxuICBvdXRwdXQud3JpdGVTdHJ1Y3RCZWdpbignVFVzZXJTZXJ2aWNlX2ZpbmRVc2VyX3Jlc3VsdCcpO1xyXG4gIGlmICh0aGlzLnN1Y2Nlc3MgIT09IG51bGwgJiYgdGhpcy5zdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkQmVnaW4oJ3N1Y2Nlc3MnLCBUaHJpZnQuVHlwZS5TVFJVQ1QsIDApO1xyXG4gICAgdGhpcy5zdWNjZXNzLndyaXRlKG91dHB1dCk7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBvdXRwdXQud3JpdGVGaWVsZFN0b3AoKTtcclxuICBvdXRwdXQud3JpdGVTdHJ1Y3RFbmQoKTtcclxuICByZXR1cm47XHJcbn07XHJcblxyXG5UVXNlclNlcnZpY2VfY3JlYXRlX2FyZ3MgPSBmdW5jdGlvbihhcmdzKSB7XHJcbiAgdGhpcy51c2VyID0gbnVsbDtcclxuICB0aGlzLnJhd1Bhc3N3b3JkID0gbnVsbDtcclxuICBpZiAoYXJncykge1xyXG4gICAgaWYgKGFyZ3MudXNlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMudXNlciA9IGFyZ3MudXNlcjtcclxuICAgIH1cclxuICAgIGlmIChhcmdzLnJhd1Bhc3N3b3JkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5yYXdQYXNzd29yZCA9IGFyZ3MucmF3UGFzc3dvcmQ7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5UVXNlclNlcnZpY2VfY3JlYXRlX2FyZ3MucHJvdG90eXBlID0ge307XHJcblRVc2VyU2VydmljZV9jcmVhdGVfYXJncy5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgaW5wdXQucmVhZFN0cnVjdEJlZ2luKCk7XHJcbiAgd2hpbGUgKHRydWUpXHJcbiAge1xyXG4gICAgdmFyIHJldCA9IGlucHV0LnJlYWRGaWVsZEJlZ2luKCk7XHJcbiAgICB2YXIgZm5hbWUgPSByZXQuZm5hbWU7XHJcbiAgICB2YXIgZnR5cGUgPSByZXQuZnR5cGU7XHJcbiAgICB2YXIgZmlkID0gcmV0LmZpZDtcclxuICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVE9QKSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChmaWQpXHJcbiAgICB7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLlNUUlVDVCkge1xyXG4gICAgICAgIHRoaXMudXNlciA9IG5ldyBUVXNlcigpO1xyXG4gICAgICAgIHRoaXMudXNlci5yZWFkKGlucHV0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbnB1dC5za2lwKGZ0eXBlKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICBpZiAoZnR5cGUgPT0gVGhyaWZ0LlR5cGUuU1RSSU5HKSB7XHJcbiAgICAgICAgdGhpcy5yYXdQYXNzd29yZCA9IGlucHV0LnJlYWRTdHJpbmcoKS52YWx1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbnB1dC5za2lwKGZ0eXBlKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBpbnB1dC5za2lwKGZ0eXBlKTtcclxuICAgIH1cclxuICAgIGlucHV0LnJlYWRGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBpbnB1dC5yZWFkU3RydWN0RW5kKCk7XHJcbiAgcmV0dXJuO1xyXG59O1xyXG5cclxuVFVzZXJTZXJ2aWNlX2NyZWF0ZV9hcmdzLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdUVXNlclNlcnZpY2VfY3JlYXRlX2FyZ3MnKTtcclxuICBpZiAodGhpcy51c2VyICE9PSBudWxsICYmIHRoaXMudXNlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCd1c2VyJywgVGhyaWZ0LlR5cGUuU1RSVUNULCAxKTtcclxuICAgIHRoaXMudXNlci53cml0ZShvdXRwdXQpO1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaWYgKHRoaXMucmF3UGFzc3dvcmQgIT09IG51bGwgJiYgdGhpcy5yYXdQYXNzd29yZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCdyYXdQYXNzd29yZCcsIFRocmlmdC5UeXBlLlNUUklORywgMik7XHJcbiAgICBvdXRwdXQud3JpdGVTdHJpbmcodGhpcy5yYXdQYXNzd29yZCk7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBvdXRwdXQud3JpdGVGaWVsZFN0b3AoKTtcclxuICBvdXRwdXQud3JpdGVTdHJ1Y3RFbmQoKTtcclxuICByZXR1cm47XHJcbn07XHJcblxyXG5UVXNlclNlcnZpY2VfY3JlYXRlX3Jlc3VsdCA9IGZ1bmN0aW9uKGFyZ3MpIHtcclxuICB0aGlzLnN1Y2Nlc3MgPSBudWxsO1xyXG4gIGlmIChhcmdzKSB7XHJcbiAgICBpZiAoYXJncy5zdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5zdWNjZXNzID0gYXJncy5zdWNjZXNzO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuVFVzZXJTZXJ2aWNlX2NyZWF0ZV9yZXN1bHQucHJvdG90eXBlID0ge307XHJcblRVc2VyU2VydmljZV9jcmVhdGVfcmVzdWx0LnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24oaW5wdXQpIHtcclxuICBpbnB1dC5yZWFkU3RydWN0QmVnaW4oKTtcclxuICB3aGlsZSAodHJ1ZSlcclxuICB7XHJcbiAgICB2YXIgcmV0ID0gaW5wdXQucmVhZEZpZWxkQmVnaW4oKTtcclxuICAgIHZhciBmbmFtZSA9IHJldC5mbmFtZTtcclxuICAgIHZhciBmdHlwZSA9IHJldC5mdHlwZTtcclxuICAgIHZhciBmaWQgPSByZXQuZmlkO1xyXG4gICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLlNUT1ApIHtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGZpZClcclxuICAgIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICBpZiAoZnR5cGUgPT0gVGhyaWZ0LlR5cGUuU1RSVUNUKSB7XHJcbiAgICAgICAgdGhpcy5zdWNjZXNzID0gbmV3IFRVc2VyKCk7XHJcbiAgICAgICAgdGhpcy5zdWNjZXNzLnJlYWQoaW5wdXQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICB9XHJcbiAgICBpbnB1dC5yZWFkRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaW5wdXQucmVhZFN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRVc2VyU2VydmljZV9jcmVhdGVfcmVzdWx0LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdUVXNlclNlcnZpY2VfY3JlYXRlX3Jlc3VsdCcpO1xyXG4gIGlmICh0aGlzLnN1Y2Nlc3MgIT09IG51bGwgJiYgdGhpcy5zdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkQmVnaW4oJ3N1Y2Nlc3MnLCBUaHJpZnQuVHlwZS5TVFJVQ1QsIDApO1xyXG4gICAgdGhpcy5zdWNjZXNzLndyaXRlKG91dHB1dCk7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBvdXRwdXQud3JpdGVGaWVsZFN0b3AoKTtcclxuICBvdXRwdXQud3JpdGVTdHJ1Y3RFbmQoKTtcclxuICByZXR1cm47XHJcbn07XHJcblxyXG5UVXNlclNlcnZpY2VDbGllbnQgPSBmdW5jdGlvbihpbnB1dCwgb3V0cHV0KSB7XHJcbiAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XHJcbiAgICB0aGlzLm91dHB1dCA9ICghb3V0cHV0KSA/IGlucHV0IDogb3V0cHV0O1xyXG4gICAgdGhpcy5zZXFpZCA9IDA7XHJcbn07XHJcblRVc2VyU2VydmljZUNsaWVudC5wcm90b3R5cGUgPSB7fTtcclxuVFVzZXJTZXJ2aWNlQ2xpZW50LnByb3RvdHlwZS5maW5kRmFtaWxpZXMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gIHRoaXMuc2VuZF9maW5kRmFtaWxpZXMoY2FsbGJhY2spOyBcclxuICBpZiAoIWNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZWN2X2ZpbmRGYW1pbGllcygpO1xyXG4gIH1cclxufTtcclxuXHJcblRVc2VyU2VydmljZUNsaWVudC5wcm90b3R5cGUuc2VuZF9maW5kRmFtaWxpZXMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gIHRoaXMub3V0cHV0LndyaXRlTWVzc2FnZUJlZ2luKCdmaW5kRmFtaWxpZXMnLCBUaHJpZnQuTWVzc2FnZVR5cGUuQ0FMTCwgdGhpcy5zZXFpZCk7XHJcbiAgdmFyIGFyZ3MgPSBuZXcgVFVzZXJTZXJ2aWNlX2ZpbmRGYW1pbGllc19hcmdzKCk7XHJcbiAgYXJncy53cml0ZSh0aGlzLm91dHB1dCk7XHJcbiAgdGhpcy5vdXRwdXQud3JpdGVNZXNzYWdlRW5kKCk7XHJcbiAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLm91dHB1dC5nZXRUcmFuc3BvcnQoKS5mbHVzaCh0cnVlLCBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmVzdWx0ID0gc2VsZi5yZWN2X2ZpbmRGYW1pbGllcygpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gZTtcclxuICAgICAgfVxyXG4gICAgICBjYWxsYmFjayhyZXN1bHQpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB0aGlzLm91dHB1dC5nZXRUcmFuc3BvcnQoKS5mbHVzaCgpO1xyXG4gIH1cclxufTtcclxuXHJcblRVc2VyU2VydmljZUNsaWVudC5wcm90b3R5cGUucmVjdl9maW5kRmFtaWxpZXMgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgcmV0ID0gdGhpcy5pbnB1dC5yZWFkTWVzc2FnZUJlZ2luKCk7XHJcbiAgdmFyIGZuYW1lID0gcmV0LmZuYW1lO1xyXG4gIHZhciBtdHlwZSA9IHJldC5tdHlwZTtcclxuICB2YXIgcnNlcWlkID0gcmV0LnJzZXFpZDtcclxuICBpZiAobXR5cGUgPT0gVGhyaWZ0Lk1lc3NhZ2VUeXBlLkVYQ0VQVElPTikge1xyXG4gICAgdmFyIHggPSBuZXcgVGhyaWZ0LlRBcHBsaWNhdGlvbkV4Y2VwdGlvbigpO1xyXG4gICAgeC5yZWFkKHRoaXMuaW5wdXQpO1xyXG4gICAgdGhpcy5pbnB1dC5yZWFkTWVzc2FnZUVuZCgpO1xyXG4gICAgdGhyb3cgeDtcclxuICB9XHJcbiAgdmFyIHJlc3VsdCA9IG5ldyBUVXNlclNlcnZpY2VfZmluZEZhbWlsaWVzX3Jlc3VsdCgpO1xyXG4gIHJlc3VsdC5yZWFkKHRoaXMuaW5wdXQpO1xyXG4gIHRoaXMuaW5wdXQucmVhZE1lc3NhZ2VFbmQoKTtcclxuXHJcbiAgaWYgKG51bGwgIT09IHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3M7XHJcbiAgfVxyXG4gIHRocm93ICdmaW5kRmFtaWxpZXMgZmFpbGVkOiB1bmtub3duIHJlc3VsdCc7XHJcbn07XHJcblRVc2VyU2VydmljZUNsaWVudC5wcm90b3R5cGUuZmluZFVzZXIgPSBmdW5jdGlvbih1c2VySWQsIGNhbGxiYWNrKSB7XHJcbiAgdGhpcy5zZW5kX2ZpbmRVc2VyKHVzZXJJZCwgY2FsbGJhY2spOyBcclxuICBpZiAoIWNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZWN2X2ZpbmRVc2VyKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuVFVzZXJTZXJ2aWNlQ2xpZW50LnByb3RvdHlwZS5zZW5kX2ZpbmRVc2VyID0gZnVuY3Rpb24odXNlcklkLCBjYWxsYmFjaykge1xyXG4gIHRoaXMub3V0cHV0LndyaXRlTWVzc2FnZUJlZ2luKCdmaW5kVXNlcicsIFRocmlmdC5NZXNzYWdlVHlwZS5DQUxMLCB0aGlzLnNlcWlkKTtcclxuICB2YXIgYXJncyA9IG5ldyBUVXNlclNlcnZpY2VfZmluZFVzZXJfYXJncygpO1xyXG4gIGFyZ3MudXNlcklkID0gdXNlcklkO1xyXG4gIGFyZ3Mud3JpdGUodGhpcy5vdXRwdXQpO1xyXG4gIHRoaXMub3V0cHV0LndyaXRlTWVzc2FnZUVuZCgpO1xyXG4gIGlmIChjYWxsYmFjaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5vdXRwdXQuZ2V0VHJhbnNwb3J0KCkuZmx1c2godHJ1ZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJlc3VsdCA9IHNlbGYucmVjdl9maW5kVXNlcigpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gZTtcclxuICAgICAgfVxyXG4gICAgICBjYWxsYmFjayhyZXN1bHQpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB0aGlzLm91dHB1dC5nZXRUcmFuc3BvcnQoKS5mbHVzaCgpO1xyXG4gIH1cclxufTtcclxuXHJcblRVc2VyU2VydmljZUNsaWVudC5wcm90b3R5cGUucmVjdl9maW5kVXNlciA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciByZXQgPSB0aGlzLmlucHV0LnJlYWRNZXNzYWdlQmVnaW4oKTtcclxuICB2YXIgZm5hbWUgPSByZXQuZm5hbWU7XHJcbiAgdmFyIG10eXBlID0gcmV0Lm10eXBlO1xyXG4gIHZhciByc2VxaWQgPSByZXQucnNlcWlkO1xyXG4gIGlmIChtdHlwZSA9PSBUaHJpZnQuTWVzc2FnZVR5cGUuRVhDRVBUSU9OKSB7XHJcbiAgICB2YXIgeCA9IG5ldyBUaHJpZnQuVEFwcGxpY2F0aW9uRXhjZXB0aW9uKCk7XHJcbiAgICB4LnJlYWQodGhpcy5pbnB1dCk7XHJcbiAgICB0aGlzLmlucHV0LnJlYWRNZXNzYWdlRW5kKCk7XHJcbiAgICB0aHJvdyB4O1xyXG4gIH1cclxuICB2YXIgcmVzdWx0ID0gbmV3IFRVc2VyU2VydmljZV9maW5kVXNlcl9yZXN1bHQoKTtcclxuICByZXN1bHQucmVhZCh0aGlzLmlucHV0KTtcclxuICB0aGlzLmlucHV0LnJlYWRNZXNzYWdlRW5kKCk7XHJcblxyXG4gIGlmIChudWxsICE9PSByZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzO1xyXG4gIH1cclxuICB0aHJvdyAnZmluZFVzZXIgZmFpbGVkOiB1bmtub3duIHJlc3VsdCc7XHJcbn07XHJcblRVc2VyU2VydmljZUNsaWVudC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24odXNlciwgcmF3UGFzc3dvcmQsIGNhbGxiYWNrKSB7XHJcbiAgdGhpcy5zZW5kX2NyZWF0ZSh1c2VyLCByYXdQYXNzd29yZCwgY2FsbGJhY2spOyBcclxuICBpZiAoIWNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZWN2X2NyZWF0ZSgpO1xyXG4gIH1cclxufTtcclxuXHJcblRVc2VyU2VydmljZUNsaWVudC5wcm90b3R5cGUuc2VuZF9jcmVhdGUgPSBmdW5jdGlvbih1c2VyLCByYXdQYXNzd29yZCwgY2FsbGJhY2spIHtcclxuICB0aGlzLm91dHB1dC53cml0ZU1lc3NhZ2VCZWdpbignY3JlYXRlJywgVGhyaWZ0Lk1lc3NhZ2VUeXBlLkNBTEwsIHRoaXMuc2VxaWQpO1xyXG4gIHZhciBhcmdzID0gbmV3IFRVc2VyU2VydmljZV9jcmVhdGVfYXJncygpO1xyXG4gIGFyZ3MudXNlciA9IHVzZXI7XHJcbiAgYXJncy5yYXdQYXNzd29yZCA9IHJhd1Bhc3N3b3JkO1xyXG4gIGFyZ3Mud3JpdGUodGhpcy5vdXRwdXQpO1xyXG4gIHRoaXMub3V0cHV0LndyaXRlTWVzc2FnZUVuZCgpO1xyXG4gIGlmIChjYWxsYmFjaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5vdXRwdXQuZ2V0VHJhbnNwb3J0KCkuZmx1c2godHJ1ZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJlc3VsdCA9IHNlbGYucmVjdl9jcmVhdGUoKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJlc3VsdCA9IGU7XHJcbiAgICAgIH1cclxuICAgICAgY2FsbGJhY2socmVzdWx0KTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gdGhpcy5vdXRwdXQuZ2V0VHJhbnNwb3J0KCkuZmx1c2goKTtcclxuICB9XHJcbn07XHJcblxyXG5UVXNlclNlcnZpY2VDbGllbnQucHJvdG90eXBlLnJlY3ZfY3JlYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJldCA9IHRoaXMuaW5wdXQucmVhZE1lc3NhZ2VCZWdpbigpO1xyXG4gIHZhciBmbmFtZSA9IHJldC5mbmFtZTtcclxuICB2YXIgbXR5cGUgPSByZXQubXR5cGU7XHJcbiAgdmFyIHJzZXFpZCA9IHJldC5yc2VxaWQ7XHJcbiAgaWYgKG10eXBlID09IFRocmlmdC5NZXNzYWdlVHlwZS5FWENFUFRJT04pIHtcclxuICAgIHZhciB4ID0gbmV3IFRocmlmdC5UQXBwbGljYXRpb25FeGNlcHRpb24oKTtcclxuICAgIHgucmVhZCh0aGlzLmlucHV0KTtcclxuICAgIHRoaXMuaW5wdXQucmVhZE1lc3NhZ2VFbmQoKTtcclxuICAgIHRocm93IHg7XHJcbiAgfVxyXG4gIHZhciByZXN1bHQgPSBuZXcgVFVzZXJTZXJ2aWNlX2NyZWF0ZV9yZXN1bHQoKTtcclxuICByZXN1bHQucmVhZCh0aGlzLmlucHV0KTtcclxuICB0aGlzLmlucHV0LnJlYWRNZXNzYWdlRW5kKCk7XHJcblxyXG4gIGlmIChudWxsICE9PSByZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzO1xyXG4gIH1cclxuICB0aHJvdyAnY3JlYXRlIGZhaWxlZDogdW5rbm93biByZXN1bHQnO1xyXG59O1xyXG4iLCIvL1xyXG4vLyBBdXRvZ2VuZXJhdGVkIGJ5IFRocmlmdCBDb21waWxlciAoMC45LjIpXHJcbi8vXHJcbi8vIERPIE5PVCBFRElUIFVOTEVTUyBZT1UgQVJFIFNVUkUgVEhBVCBZT1UgS05PVyBXSEFUIFlPVSBBUkUgRE9JTkdcclxuLy9cclxuXHJcblxyXG5UVXNlciA9IGZ1bmN0aW9uKGFyZ3MpIHtcclxuICB0aGlzLnVzZXJJZCA9IG51bGw7XHJcbiAgdGhpcy5lbWFpbCA9IG51bGw7XHJcbiAgdGhpcy5maXJzdE5hbWUgPSBudWxsO1xyXG4gIHRoaXMubGFzdE5hbWUgPSBudWxsO1xyXG4gIHRoaXMuZmFtaWx5ID0gbnVsbDtcclxuICB0aGlzLnJvbGVzID0gbnVsbDtcclxuICBpZiAoYXJncykge1xyXG4gICAgaWYgKGFyZ3MudXNlcklkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy51c2VySWQgPSBhcmdzLnVzZXJJZDtcclxuICAgIH1cclxuICAgIGlmIChhcmdzLmVtYWlsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5lbWFpbCA9IGFyZ3MuZW1haWw7XHJcbiAgICB9XHJcbiAgICBpZiAoYXJncy5maXJzdE5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLmZpcnN0TmFtZSA9IGFyZ3MuZmlyc3ROYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKGFyZ3MubGFzdE5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLmxhc3ROYW1lID0gYXJncy5sYXN0TmFtZTtcclxuICAgIH1cclxuICAgIGlmIChhcmdzLmZhbWlseSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuZmFtaWx5ID0gYXJncy5mYW1pbHk7XHJcbiAgICB9XHJcbiAgICBpZiAoYXJncy5yb2xlcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMucm9sZXMgPSBhcmdzLnJvbGVzO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuVFVzZXIucHJvdG90eXBlID0ge307XHJcblRVc2VyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24oaW5wdXQpIHtcclxuICBpbnB1dC5yZWFkU3RydWN0QmVnaW4oKTtcclxuICB3aGlsZSAodHJ1ZSlcclxuICB7XHJcbiAgICB2YXIgcmV0ID0gaW5wdXQucmVhZEZpZWxkQmVnaW4oKTtcclxuICAgIHZhciBmbmFtZSA9IHJldC5mbmFtZTtcclxuICAgIHZhciBmdHlwZSA9IHJldC5mdHlwZTtcclxuICAgIHZhciBmaWQgPSByZXQuZmlkO1xyXG4gICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLlNUT1ApIHtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGZpZClcclxuICAgIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICBpZiAoZnR5cGUgPT0gVGhyaWZ0LlR5cGUuSTMyKSB7XHJcbiAgICAgICAgdGhpcy51c2VySWQgPSBpbnB1dC5yZWFkSTMyKCkudmFsdWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLlNUUklORykge1xyXG4gICAgICAgIHRoaXMuZW1haWwgPSBpbnB1dC5yZWFkU3RyaW5nKCkudmFsdWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNDpcclxuICAgICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLlNUUklORykge1xyXG4gICAgICAgIHRoaXMuZmlyc3ROYW1lID0gaW5wdXQucmVhZFN0cmluZygpLnZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDU6XHJcbiAgICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVFJJTkcpIHtcclxuICAgICAgICB0aGlzLmxhc3ROYW1lID0gaW5wdXQucmVhZFN0cmluZygpLnZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDY6XHJcbiAgICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVFJVQ1QpIHtcclxuICAgICAgICB0aGlzLmZhbWlseSA9IG5ldyBURmFtaWx5KCk7XHJcbiAgICAgICAgdGhpcy5mYW1pbHkucmVhZChpbnB1dCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNzpcclxuICAgICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLkxJU1QpIHtcclxuICAgICAgICB2YXIgX3NpemUwID0gMDtcclxuICAgICAgICB2YXIgX3J0bXAzNDtcclxuICAgICAgICB0aGlzLnJvbGVzID0gW107XHJcbiAgICAgICAgdmFyIF9ldHlwZTMgPSAwO1xyXG4gICAgICAgIF9ydG1wMzQgPSBpbnB1dC5yZWFkTGlzdEJlZ2luKCk7XHJcbiAgICAgICAgX2V0eXBlMyA9IF9ydG1wMzQuZXR5cGU7XHJcbiAgICAgICAgX3NpemUwID0gX3J0bXAzNC5zaXplO1xyXG4gICAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IF9zaXplMDsgKytfaTUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFyIGVsZW02ID0gbnVsbDtcclxuICAgICAgICAgIGVsZW02ID0gbmV3IFRSb2xlKCk7XHJcbiAgICAgICAgICBlbGVtNi5yZWFkKGlucHV0KTtcclxuICAgICAgICAgIHRoaXMucm9sZXMucHVzaChlbGVtNik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0LnJlYWRMaXN0RW5kKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICB9XHJcbiAgICBpbnB1dC5yZWFkRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaW5wdXQucmVhZFN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRVc2VyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdUVXNlcicpO1xyXG4gIGlmICh0aGlzLnVzZXJJZCAhPT0gbnVsbCAmJiB0aGlzLnVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCd1c2VySWQnLCBUaHJpZnQuVHlwZS5JMzIsIDEpO1xyXG4gICAgb3V0cHV0LndyaXRlSTMyKHRoaXMudXNlcklkKTtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkRW5kKCk7XHJcbiAgfVxyXG4gIGlmICh0aGlzLmVtYWlsICE9PSBudWxsICYmIHRoaXMuZW1haWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRCZWdpbignZW1haWwnLCBUaHJpZnQuVHlwZS5TVFJJTkcsIDIpO1xyXG4gICAgb3V0cHV0LndyaXRlU3RyaW5nKHRoaXMuZW1haWwpO1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaWYgKHRoaXMuZmlyc3ROYW1lICE9PSBudWxsICYmIHRoaXMuZmlyc3ROYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkQmVnaW4oJ2ZpcnN0TmFtZScsIFRocmlmdC5UeXBlLlNUUklORywgNCk7XHJcbiAgICBvdXRwdXQud3JpdGVTdHJpbmcodGhpcy5maXJzdE5hbWUpO1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaWYgKHRoaXMubGFzdE5hbWUgIT09IG51bGwgJiYgdGhpcy5sYXN0TmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCdsYXN0TmFtZScsIFRocmlmdC5UeXBlLlNUUklORywgNSk7XHJcbiAgICBvdXRwdXQud3JpdGVTdHJpbmcodGhpcy5sYXN0TmFtZSk7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBpZiAodGhpcy5mYW1pbHkgIT09IG51bGwgJiYgdGhpcy5mYW1pbHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRCZWdpbignZmFtaWx5JywgVGhyaWZ0LlR5cGUuU1RSVUNULCA2KTtcclxuICAgIHRoaXMuZmFtaWx5LndyaXRlKG91dHB1dCk7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBpZiAodGhpcy5yb2xlcyAhPT0gbnVsbCAmJiB0aGlzLnJvbGVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkQmVnaW4oJ3JvbGVzJywgVGhyaWZ0LlR5cGUuTElTVCwgNyk7XHJcbiAgICBvdXRwdXQud3JpdGVMaXN0QmVnaW4oVGhyaWZ0LlR5cGUuU1RSVUNULCB0aGlzLnJvbGVzLmxlbmd0aCk7XHJcbiAgICBmb3IgKHZhciBpdGVyNyBpbiB0aGlzLnJvbGVzKVxyXG4gICAge1xyXG4gICAgICBpZiAodGhpcy5yb2xlcy5oYXNPd25Qcm9wZXJ0eShpdGVyNykpXHJcbiAgICAgIHtcclxuICAgICAgICBpdGVyNyA9IHRoaXMucm9sZXNbaXRlcjddO1xyXG4gICAgICAgIGl0ZXI3LndyaXRlKG91dHB1dCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG91dHB1dC53cml0ZUxpc3RFbmQoKTtcclxuICAgIG91dHB1dC53cml0ZUZpZWxkRW5kKCk7XHJcbiAgfVxyXG4gIG91dHB1dC53cml0ZUZpZWxkU3RvcCgpO1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRGYW1pbHkgPSBmdW5jdGlvbihhcmdzKSB7XHJcbiAgdGhpcy5mYW1pbHlJZCA9IG51bGw7XHJcbiAgdGhpcy5mYW1pbHlOYW1lID0gbnVsbDtcclxuICBpZiAoYXJncykge1xyXG4gICAgaWYgKGFyZ3MuZmFtaWx5SWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLmZhbWlseUlkID0gYXJncy5mYW1pbHlJZDtcclxuICAgIH1cclxuICAgIGlmIChhcmdzLmZhbWlseU5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLmZhbWlseU5hbWUgPSBhcmdzLmZhbWlseU5hbWU7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5URmFtaWx5LnByb3RvdHlwZSA9IHt9O1xyXG5URmFtaWx5LnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24oaW5wdXQpIHtcclxuICBpbnB1dC5yZWFkU3RydWN0QmVnaW4oKTtcclxuICB3aGlsZSAodHJ1ZSlcclxuICB7XHJcbiAgICB2YXIgcmV0ID0gaW5wdXQucmVhZEZpZWxkQmVnaW4oKTtcclxuICAgIHZhciBmbmFtZSA9IHJldC5mbmFtZTtcclxuICAgIHZhciBmdHlwZSA9IHJldC5mdHlwZTtcclxuICAgIHZhciBmaWQgPSByZXQuZmlkO1xyXG4gICAgaWYgKGZ0eXBlID09IFRocmlmdC5UeXBlLlNUT1ApIHtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGZpZClcclxuICAgIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICBpZiAoZnR5cGUgPT0gVGhyaWZ0LlR5cGUuSTMyKSB7XHJcbiAgICAgICAgdGhpcy5mYW1pbHlJZCA9IGlucHV0LnJlYWRJMzIoKS52YWx1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbnB1dC5za2lwKGZ0eXBlKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICBpZiAoZnR5cGUgPT0gVGhyaWZ0LlR5cGUuU1RSSU5HKSB7XHJcbiAgICAgICAgdGhpcy5mYW1pbHlOYW1lID0gaW5wdXQucmVhZFN0cmluZygpLnZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgfVxyXG4gICAgaW5wdXQucmVhZEZpZWxkRW5kKCk7XHJcbiAgfVxyXG4gIGlucHV0LnJlYWRTdHJ1Y3RFbmQoKTtcclxuICByZXR1cm47XHJcbn07XHJcblxyXG5URmFtaWx5LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdURmFtaWx5Jyk7XHJcbiAgaWYgKHRoaXMuZmFtaWx5SWQgIT09IG51bGwgJiYgdGhpcy5mYW1pbHlJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCdmYW1pbHlJZCcsIFRocmlmdC5UeXBlLkkzMiwgMSk7XHJcbiAgICBvdXRwdXQud3JpdGVJMzIodGhpcy5mYW1pbHlJZCk7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEVuZCgpO1xyXG4gIH1cclxuICBpZiAodGhpcy5mYW1pbHlOYW1lICE9PSBudWxsICYmIHRoaXMuZmFtaWx5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCdmYW1pbHlOYW1lJywgVGhyaWZ0LlR5cGUuU1RSSU5HLCAyKTtcclxuICAgIG91dHB1dC53cml0ZVN0cmluZyh0aGlzLmZhbWlseU5hbWUpO1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRFbmQoKTtcclxuICB9XHJcbiAgb3V0cHV0LndyaXRlRmllbGRTdG9wKCk7XHJcbiAgb3V0cHV0LndyaXRlU3RydWN0RW5kKCk7XHJcbiAgcmV0dXJuO1xyXG59O1xyXG5cclxuVFJvbGUgPSBmdW5jdGlvbihhcmdzKSB7XHJcbiAgdGhpcy5yb2xlTmFtZSA9IG51bGw7XHJcbiAgaWYgKGFyZ3MpIHtcclxuICAgIGlmIChhcmdzLnJvbGVOYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5yb2xlTmFtZSA9IGFyZ3Mucm9sZU5hbWU7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5UUm9sZS5wcm90b3R5cGUgPSB7fTtcclxuVFJvbGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbihpbnB1dCkge1xyXG4gIGlucHV0LnJlYWRTdHJ1Y3RCZWdpbigpO1xyXG4gIHdoaWxlICh0cnVlKVxyXG4gIHtcclxuICAgIHZhciByZXQgPSBpbnB1dC5yZWFkRmllbGRCZWdpbigpO1xyXG4gICAgdmFyIGZuYW1lID0gcmV0LmZuYW1lO1xyXG4gICAgdmFyIGZ0eXBlID0gcmV0LmZ0eXBlO1xyXG4gICAgdmFyIGZpZCA9IHJldC5maWQ7XHJcbiAgICBpZiAoZnR5cGUgPT0gVGhyaWZ0LlR5cGUuU1RPUCkge1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHN3aXRjaCAoZmlkKVxyXG4gICAge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgIGlmIChmdHlwZSA9PSBUaHJpZnQuVHlwZS5TVFJJTkcpIHtcclxuICAgICAgICB0aGlzLnJvbGVOYW1lID0gaW5wdXQucmVhZFN0cmluZygpLnZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LnNraXAoZnR5cGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaW5wdXQuc2tpcChmdHlwZSk7XHJcbiAgICB9XHJcbiAgICBpbnB1dC5yZWFkRmllbGRFbmQoKTtcclxuICB9XHJcbiAgaW5wdXQucmVhZFN0cnVjdEVuZCgpO1xyXG4gIHJldHVybjtcclxufTtcclxuXHJcblRSb2xlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xyXG4gIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdUUm9sZScpO1xyXG4gIGlmICh0aGlzLnJvbGVOYW1lICE9PSBudWxsICYmIHRoaXMucm9sZU5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRCZWdpbigncm9sZU5hbWUnLCBUaHJpZnQuVHlwZS5TVFJJTkcsIDEpO1xyXG4gICAgb3V0cHV0LndyaXRlU3RyaW5nKHRoaXMucm9sZU5hbWUpO1xyXG4gICAgb3V0cHV0LndyaXRlRmllbGRFbmQoKTtcclxuICB9XHJcbiAgb3V0cHV0LndyaXRlRmllbGRTdG9wKCk7XHJcbiAgb3V0cHV0LndyaXRlU3RydWN0RW5kKCk7XHJcbiAgcmV0dXJuO1xyXG59O1xyXG5cclxuIiwiLypcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLypqc2hpbnQgZXZpbDp0cnVlKi9cblxuLyoqXG4gKiBUaGUgVGhyaWZ0IG5hbWVzcGFjZSBob3VzZXMgdGhlIEFwYWNoZSBUaHJpZnQgSmF2YVNjcmlwdCBsaWJyYXJ5IFxuICogZWxlbWVudHMgcHJvdmlkaW5nIEphdmFTY3JpcHQgYmluZGluZ3MgZm9yIHRoZSBBcGFjaGUgVGhyaWZ0IFJQQyBcbiAqIHN5c3RlbS4gRW5kIHVzZXJzIHdpbGwgdHlwaWNhbGx5IG9ubHkgZGlyZWN0bHkgbWFrZSB1c2Ugb2YgdGhlIFxuICogVHJhbnNwb3J0IChUWEhSVHJhbnNwb3J0L1RXZWJTb2NrZXRUcmFuc3BvcnQpIGFuZCBQcm90b2NvbCBcbiAqIChUSlNPTlBSb3RvY29sL1RCaW5hcnlQcm90b2NvbCkgY29uc3RydWN0b3JzLlxuICogXG4gKiBPYmplY3QgbWV0aG9kcyBiZWdpbm5pbmcgd2l0aCBhIF9fIChlLmcuIF9fb25PcGVuKCkpIGFyZSBpbnRlcm5hbCBcbiAqIGFuZCBzaG91bGQgbm90IGJlIGNhbGxlZCBvdXRzaWRlIG9mIHRoZSBvYmplY3QncyBvd24gbWV0aG9kcy5cbiAqIFxuICogVGhpcyBsaWJyYXJ5IGNyZWF0ZXMgb25lIGdsb2JhbCBvYmplY3Q6IFRocmlmdFxuICogQ29kZSBpbiB0aGlzIGxpYnJhcnkgbXVzdCBuZXZlciBjcmVhdGUgYWRkaXRpb25hbCBnbG9iYWwgaWRlbnRpZmllcnMsXG4gKiBhbGwgZmVhdHVyZXMgbXVzdCBiZSBzY29wZWQgd2l0aGluIHRoZSBUaHJpZnQgbmFtZXNwYWNlLlxuICogQG5hbWVzcGFjZVxuICogQGV4YW1wbGVcbiAqICAgICB2YXIgdHJhbnNwb3J0ID0gbmV3IFRocmlmdC5UcmFuc3BvcnQoXCJodHRwOi8vbG9jYWxob3N0Ojg1ODVcIik7XG4gKiAgICAgdmFyIHByb3RvY29sICA9IG5ldyBUaHJpZnQuUHJvdG9jb2wodHJhbnNwb3J0KTtcbiAqICAgICB2YXIgY2xpZW50ID0gbmV3IE15VGhyaWZ0U3ZjQ2xpZW50KHByb3RvY29sKTtcbiAqICAgICB2YXIgcmVzdWx0ID0gY2xpZW50Lk15TWV0aG9kKCk7XG4gKi9cbnZhciBUaHJpZnQgPSB7XG4gICAgLyoqXG4gICAgICogVGhyaWZ0IEphdmFTY3JpcHQgbGlicmFyeSB2ZXJzaW9uLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBjb25zdCB7c3RyaW5nfSBWZXJzaW9uXG4gICAgICogQG1lbWJlcm9mIFRocmlmdFxuICAgICAqL1xuICAgIFZlcnNpb246ICcwLjkuMicsXG5cbiAgICAvKipcbiAgICAgKiBUaHJpZnQgSURMIHR5cGUgc3RyaW5nIHRvIElkIG1hcHBpbmcuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBTVE9QICAgLSBFbmQgb2YgYSBzZXQgb2YgZmllbGRzLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgVk9JRCAgIC0gTm8gdmFsdWUgKG9ubHkgbGVnYWwgZm9yIHJldHVybiB0eXBlcykuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBCT09MICAgLSBUcnVlL0ZhbHNlIGludGVnZXIuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBCWVRFICAgLSBTaWduZWQgOCBiaXQgaW50ZWdlci5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gIEkwOCAgICAtIFNpZ25lZCA4IGJpdCBpbnRlZ2VyLiAgICAgXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBET1VCTEUgLSA2NCBiaXQgSUVFRSA4NTQgZmxvYXRpbmcgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBJMTYgICAgLSBTaWduZWQgMTYgYml0IGludGVnZXIuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBJMzIgICAgLSBTaWduZWQgMzIgYml0IGludGVnZXIuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBJNjQgICAgLSBTaWduZWQgNjQgYml0IGludGVnZXIuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBTVFJJTkcgLSBBcnJheSBvZiBieXRlcyByZXByZXNlbnRpbmcgYSBzdHJpbmcgb2YgY2hhcmFjdGVycy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gIFVURjcgICAtIEFycmF5IG9mIGJ5dGVzIHJlcHJlc2VudGluZyBhIHN0cmluZyBvZiBVVEY3IGVuY29kZWQgY2hhcmFjdGVycy5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gIFNUUlVDVCAtIEEgbXVsdGlmaWVsZCB0eXBlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgTUFQICAgIC0gQSBjb2xsZWN0aW9uIHR5cGUgKG1hcC9hc3NvY2lhdGl2ZS1hcnJheS9kaWN0aW9uYXJ5KS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gIFNFVCAgICAtIEEgY29sbGVjdGlvbiB0eXBlICh1bm9yZGVyZWQgYW5kIHdpdGhvdXQgcmVwZWF0ZWQgdmFsdWVzKS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gIExJU1QgICAtIEEgY29sbGVjdGlvbiB0eXBlICh1bm9yZGVyZWQpLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgVVRGOCAgIC0gQXJyYXkgb2YgYnl0ZXMgcmVwcmVzZW50aW5nIGEgc3RyaW5nIG9mIFVURjggZW5jb2RlZCBjaGFyYWN0ZXJzLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgVVRGMTYgIC0gQXJyYXkgb2YgYnl0ZXMgcmVwcmVzZW50aW5nIGEgc3RyaW5nIG9mIFVURjE2IGVuY29kZWQgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICBUeXBlOiB7XG4gICAgICAgICdTVE9QJyA6IDAsXG4gICAgICAgICdWT0lEJyA6IDEsXG4gICAgICAgICdCT09MJyA6IDIsXG4gICAgICAgICdCWVRFJyA6IDMsXG4gICAgICAgICdJMDgnIDogMyxcbiAgICAgICAgJ0RPVUJMRScgOiA0LFxuICAgICAgICAnSTE2JyA6IDYsXG4gICAgICAgICdJMzInIDogOCxcbiAgICAgICAgJ0k2NCcgOiAxMCxcbiAgICAgICAgJ1NUUklORycgOiAxMSxcbiAgICAgICAgJ1VURjcnIDogMTEsXG4gICAgICAgICdTVFJVQ1QnIDogMTIsXG4gICAgICAgICdNQVAnIDogMTMsXG4gICAgICAgICdTRVQnIDogMTQsXG4gICAgICAgICdMSVNUJyA6IDE1LFxuICAgICAgICAnVVRGOCcgOiAxNixcbiAgICAgICAgJ1VURjE2JyA6IDE3XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRocmlmdCBSUEMgbWVzc2FnZSB0eXBlIHN0cmluZyB0byBJZCBtYXBwaW5nLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgQ0FMTCAgICAgIC0gUlBDIGNhbGwgc2VudCBmcm9tIGNsaWVudCB0byBzZXJ2ZXIuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9ICBSRVBMWSAgICAgLSBSUEMgY2FsbCBub3JtYWwgcmVzcG9uc2UgZnJvbSBzZXJ2ZXIgdG8gY2xpZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgRVhDRVBUSU9OIC0gUlBDIGNhbGwgZXhjZXB0aW9uIHJlc3BvbnNlIGZyb20gc2VydmVyIHRvIGNsaWVudC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gIE9ORVdBWSAgICAtIE9uZXdheSBSUEMgY2FsbCBmcm9tIGNsaWVudCB0byBzZXJ2ZXIgd2l0aCBubyByZXNwb25zZS5cbiAgICAgKi9cbiAgICBNZXNzYWdlVHlwZToge1xuICAgICAgICAnQ0FMTCcgOiAxLFxuICAgICAgICAnUkVQTFknIDogMixcbiAgICAgICAgJ0VYQ0VQVElPTicgOiAzLFxuICAgICAgICAnT05FV0FZJyA6IDRcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiByZXR1cm5pbmcgdGhlIGNvdW50IG9mIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBPYmplY3QgdG8gdGVzdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBudW1iZXIgb2Ygb2JqZWN0J3Mgb3duIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBvYmplY3RMZW5ndGg6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVzdGFibGlzaCBwcm90b3R5cGUgaW5oZXJpdGFuY2UuXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2phdmFzY3JpcHQuY3JvY2tmb3JkLmNvbS9wcm90b3R5cGFsLmh0bWx8UHJvdG90eXBhbCBJbmhlcml0YW5jZX1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25zdHJ1Y3RvciAtIENvbnRzdHJ1Y3RvciBmdW5jdGlvbiB0byBzZXQgYXMgZGVyaXZlZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckNvbnN0cnVjdG9yIC0gQ29udHN0cnVjdG9yIGZ1bmN0aW9uIHRvIHNldCBhcyBiYXNlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBUeXBlIG5hbWUgdG8gc2V0IGFzIG5hbWUgcHJvcGVydHkgaW4gZGVyaXZlZCBwcm90b3R5cGUuXG4gICAgICovXG4gICAgaW5oZXJpdHM6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBzdXBlckNvbnN0cnVjdG9yLCBuYW1lKSB7XG4gICAgICBmdW5jdGlvbiBGKCkge31cbiAgICAgIEYucHJvdG90eXBlID0gc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBuZXcgRigpO1xuICAgICAgY29uc3RydWN0b3IucHJvdG90eXBlLm5hbWUgPSBuYW1lIHx8IFwiXCI7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIFRocmlmdCBURXhjZXB0aW9uIGluc3RhbmNlLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgRXJyb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIFRFeGNlcHRpb24gbWVzc2FnZSAoZGlzdGluY3QgZnJvbSB0aGUgRXJyb3IgbWVzc2FnZSkuXG4gKiBAY2xhc3NkZXNjIFRFeGNlcHRpb24gaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBUaHJpZnQgZXhjZXB0aW9ucyB0eXBlcy5cbiAqL1xuVGhyaWZ0LlRFeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn07XG5UaHJpZnQuaW5oZXJpdHMoVGhyaWZ0LlRFeGNlcHRpb24sIEVycm9yLCAnVEV4Y2VwdGlvbicpO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG1lc3NhZ2Ugc2V0IG9uIHRoZSBleGNlcHRpb24uXG4gKiBAcmVhZG9ubHlcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGV4Y2VwdGlvbiBtZXNzYWdlXG4gKi9cblRocmlmdC5URXhjZXB0aW9uLnByb3RvdHlwZS5nZXRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbn07XG5cbi8qKlxuICogVGhyaWZ0IEFwcGxpY2F0aW9uIEV4Y2VwdGlvbiB0eXBlIHN0cmluZyB0byBJZCBtYXBwaW5nLlxuICogQHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gIFVOS05PV04gICAgICAgICAgICAgICAgIC0gVW5rbm93bi91bmRlZmluZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gIFVOS05PV05fTUVUSE9EICAgICAgICAgIC0gQ2xpZW50IGF0dGVtcHRlZCB0byBjYWxsIGEgbWV0aG9kIHVua25vd24gdG8gdGhlIHNlcnZlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgSU5WQUxJRF9NRVNTQUdFX1RZUEUgICAgLSBDbGllbnQgcGFzc2VkIGFuIHVua25vd24vdW5zdXBwb3J0ZWQgTWVzc2FnZVR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gIFdST05HX01FVEhPRF9OQU1FICAgICAgIC0gVW51c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9ICBCQURfU0VRVUVOQ0VfSUQgICAgICAgICAtIFVudXNlZCBpbiBUaHJpZnQgUlBDLCB1c2VkIHRvIGZsYWcgcHJvcHJpZXRhcnkgc2VxdWVuY2UgbnVtYmVyIGVycm9ycy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgTUlTU0lOR19SRVNVTFQgICAgICAgICAgLSBSYWlzZWQgYnkgYSBzZXJ2ZXIgcHJvY2Vzc29yIGlmIGEgaGFuZGxlciBmYWlscyB0byBzdXBwbHkgdGhlIHJlcXVpcmVkIHJldHVybiByZXN1bHQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gIElOVEVSTkFMX0VSUk9SICAgICAgICAgIC0gU29tZXRoaW5nIGJhZCBoYXBwZW5lZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgUFJPVE9DT0xfRVJST1IgICAgICAgICAgLSBUaGUgcHJvdG9jb2wgbGF5ZXIgZmFpbGVkIHRvIHNlcmlhbGl6ZSBvciBkZXNlcmlhbGl6ZSBkYXRhLlxuICogQHByb3BlcnR5IHtudW1iZXJ9ICBJTlZBTElEX1RSQU5TRk9STSAgICAgICAtIFVudXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSAgSU5WQUxJRF9QUk9UT0NPTCAgICAgICAgLSBUaGUgcHJvdG9jb2wgKG9yIHZlcnNpb24pIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gIFVOU1VQUE9SVEVEX0NMSUVOVF9UWVBFIC0gVW51c2VkLlxuICovXG5UaHJpZnQuVEFwcGxpY2F0aW9uRXhjZXB0aW9uVHlwZSA9IHtcbiAgICAnVU5LTk9XTicgOiAwLFxuICAgICdVTktOT1dOX01FVEhPRCcgOiAxLFxuICAgICdJTlZBTElEX01FU1NBR0VfVFlQRScgOiAyLFxuICAgICdXUk9OR19NRVRIT0RfTkFNRScgOiAzLFxuICAgICdCQURfU0VRVUVOQ0VfSUQnIDogNCxcbiAgICAnTUlTU0lOR19SRVNVTFQnIDogNSxcbiAgICAnSU5URVJOQUxfRVJST1InIDogNixcbiAgICAnUFJPVE9DT0xfRVJST1InIDogNyxcbiAgICAnSU5WQUxJRF9UUkFOU0ZPUk0nIDogOCxcbiAgICAnSU5WQUxJRF9QUk9UT0NPTCcgOiA5LFxuICAgICdVTlNVUFBPUlRFRF9DTElFTlRfVFlQRScgOiAxMFxufTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIFRocmlmdCBUQXBwbGljYXRpb25FeGNlcHRpb24gaW5zdGFuY2UuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBUaHJpZnQuVEV4Y2VwdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgVEFwcGxpY2F0aW9uRXhjZXB0aW9uIG1lc3NhZ2UgKGRpc3RpbmN0IGZyb20gdGhlIEVycm9yIG1lc3NhZ2UpLlxuICogQHBhcmFtIHtUaHJpZnQuVEFwcGxpY2F0aW9uRXhjZXB0aW9uVHlwZX0gW2NvZGVdIC0gVGhlIFRBcHBsaWNhdGlvbkV4Y2VwdGlvblR5cGUgY29kZS5cbiAqIEBjbGFzc2Rlc2MgVEFwcGxpY2F0aW9uRXhjZXB0aW9uIGlzIHRoZSBleGNlcHRpb24gY2xhc3MgdXNlZCB0byBwcm9wYWdhdGUgZXhjZXB0aW9ucyBmcm9tIGFuIFJQQyBzZXJ2ZXIgYmFjayB0byBhIGNhbGxpbmcgY2xpZW50LlxuKi9cblRocmlmdC5UQXBwbGljYXRpb25FeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlLCBjb2RlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmNvZGUgPSB0eXBlb2YgY29kZSA9PT0gXCJudW1iZXJcIiA/IGNvZGUgOiAwO1xufTtcblRocmlmdC5pbmhlcml0cyhUaHJpZnQuVEFwcGxpY2F0aW9uRXhjZXB0aW9uLCBUaHJpZnQuVEV4Y2VwdGlvbiwgJ1RBcHBsaWNhdGlvbkV4Y2VwdGlvbicpO1xuXG4vKipcbiAqIFJlYWQgYSBUQXBwbGljYXRpb25FeGNlcHRpb24gZnJvbSB0aGUgc3VwcGxpZWQgcHJvdG9jb2wuXG4gKiBAcGFyYW0ge29iamVjdH0gaW5wdXQgLSBUaGUgaW5wdXQgcHJvdG9jb2wgdG8gcmVhZCBmcm9tLlxuICovXG5UaHJpZnQuVEFwcGxpY2F0aW9uRXhjZXB0aW9uLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICB3aGlsZSAoMSkge1xuICAgICAgICB2YXIgcmV0ID0gaW5wdXQucmVhZEZpZWxkQmVnaW4oKTtcblxuICAgICAgICBpZiAocmV0LmZ0eXBlID09IFRocmlmdC5UeXBlLlNUT1ApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpZCA9IHJldC5maWQ7XG5cbiAgICAgICAgc3dpdGNoIChmaWQpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAocmV0LmZ0eXBlID09IFRocmlmdC5UeXBlLlNUUklORykge1xuICAgICAgICAgICAgICAgICAgICByZXQgPSBpbnB1dC5yZWFkU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHJldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXQgPSBpbnB1dC5za2lwKHJldC5mdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmIChyZXQuZnR5cGUgPT0gVGhyaWZ0LlR5cGUuSTMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGlucHV0LnJlYWRJMzIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2RlID0gcmV0LnZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGlucHV0LnNraXAocmV0LmZ0eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0ID0gaW5wdXQuc2tpcChyZXQuZnR5cGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQucmVhZEZpZWxkRW5kKCk7XG4gICAgfVxuXG4gICAgaW5wdXQucmVhZFN0cnVjdEVuZCgpO1xufTtcblxuLyoqXG4gKiBXaXRlIGEgVEFwcGxpY2F0aW9uRXhjZXB0aW9uIHRvIHRoZSBzdXBwbGllZCBwcm90b2NvbC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHByb3RvY29sIHRvIHdyaXRlIHRvLlxuICovXG5UaHJpZnQuVEFwcGxpY2F0aW9uRXhjZXB0aW9uLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKG91dHB1dCkge1xuICAgIG91dHB1dC53cml0ZVN0cnVjdEJlZ2luKCdUQXBwbGljYXRpb25FeGNlcHRpb24nKTtcblxuICAgIGlmICh0aGlzLm1lc3NhZ2UpIHtcbiAgICAgICAgb3V0cHV0LndyaXRlRmllbGRCZWdpbignbWVzc2FnZScsIFRocmlmdC5UeXBlLlNUUklORywgMSk7XG4gICAgICAgIG91dHB1dC53cml0ZVN0cmluZyh0aGlzLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIG91dHB1dC53cml0ZUZpZWxkRW5kKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29kZSkge1xuICAgICAgICBvdXRwdXQud3JpdGVGaWVsZEJlZ2luKCd0eXBlJywgVGhyaWZ0LlR5cGUuSTMyLCAyKTtcbiAgICAgICAgb3V0cHV0LndyaXRlSTMyKHRoaXMuY29kZSk7XG4gICAgICAgIG91dHB1dC53cml0ZUZpZWxkRW5kKCk7XG4gICAgfVxuXG4gICAgb3V0cHV0LndyaXRlRmllbGRTdG9wKCk7XG4gICAgb3V0cHV0LndyaXRlU3RydWN0RW5kKCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGFwcGxpY2F0aW9uIGV4Y2VwdGlvbiBjb2RlIHNldCBvbiB0aGUgZXhjZXB0aW9uLlxuICogQHJlYWRvbmx5XG4gKiBAcmV0dXJucyB7VGhyaWZ0LlRBcHBsaWNhdGlvbkV4Y2VwdGlvblR5cGV9IGV4Y2VwdGlvbiBjb2RlXG4gKi9cblRocmlmdC5UQXBwbGljYXRpb25FeGNlcHRpb24ucHJvdG90eXBlLmdldENvZGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlO1xufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciBGdW5jdGlvbiBmb3IgdGhlIFhIUiB0cmFuc3BvcnQuXG4gKiBJZiB5b3UgZG8gbm90IHNwZWNpZnkgYSB1cmwgdGhlbiB5b3UgbXVzdCBoYW5kbGUgWEhSIG9wZXJhdGlvbnMgb25cbiAqIHlvdXIgb3duLiBUaGlzIHR5cGUgY2FuIGFsc28gYmUgY29uc3RydWN0ZWQgdXNpbmcgdGhlIFRyYW5zcG9ydCBhbGlhc1xuICogZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdXJsXSAtIFRoZSBVUkwgdG8gY29ubmVjdCB0by5cbiAqIEBjbGFzc2Rlc2MgVGhlIEFwYWNoZSBUaHJpZnQgVHJhbnNwb3J0IGxheWVyIHBlcmZvcm1zIGJ5dGUgbGV2ZWwgSS9PIFxuICogYmV0d2VlbiBSUEMgY2xpZW50cyBhbmQgc2VydmVycy4gVGhlIEphdmFTY3JpcHQgVFhIUlRyYW5zcG9ydCBvYmplY3QgXG4gKiB1c2VzIEh0dHBbc10vWEhSLiBUYXJnZXQgc2VydmVycyBtdXN0IGltcGxlbWVudCB0aGUgaHR0cFtzXSB0cmFuc3BvcnRcbiAqIChzZWU6IG5vZGUuanMgZXhhbXBsZSBzZXJ2ZXJfaHR0cC5qcykuXG4gKiBAZXhhbXBsZVxuICogICAgIHZhciB0cmFuc3BvcnQgPSBuZXcgVGhyaWZ0LlRYSFJUcmFuc3BvcnQoXCJodHRwOi8vbG9jYWxob3N0Ojg1ODVcIik7XG4gKi9cblRocmlmdC5UcmFuc3BvcnQgPSBUaHJpZnQuVFhIUlRyYW5zcG9ydCA9IGZ1bmN0aW9uKHVybCwgb3B0aW9ucykge1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMud3BvcyA9IDA7XG4gICAgdGhpcy5ycG9zID0gMDtcbiAgICB0aGlzLnVzZUNPUlMgPSAob3B0aW9ucyAmJiBvcHRpb25zLnVzZUNPUlMpO1xuICAgIHRoaXMuc2VuZF9idWYgPSAnJztcbiAgICB0aGlzLnJlY3ZfYnVmID0gJyc7XG59O1xuXG5UaHJpZnQuVFhIUlRyYW5zcG9ydC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYnJvd3NlciBzcGVjaWZpYyBYbWxIdHRwUmVxdWVzdCBPYmplY3QuXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIGJyb3dzZXIgWEhSIGludGVyZmFjZSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRYbWxIdHRwUmVxdWVzdE9iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7IHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgfSBjYXRjaCAoZTEpIHsgfVxuICAgICAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyk7IH0gY2F0Y2ggKGUyKSB7IH1cbiAgICAgICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpOyB9IGNhdGNoIChlMykgeyB9XG5cbiAgICAgICAgdGhyb3cgXCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IFhIUi5cIjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgdGhlIGN1cnJlbnQgWFJIIHJlcXVlc3QgaWYgdGhlIHRyYW5zcG9ydCB3YXMgY3JlYXRlZCB3aXRoIGEgVVJMIFxuICAgICAqIGFuZCB0aGUgYXN5bmMgcGFyYW1ldGVyIGlzIGZhbHNlLiBJZiB0aGUgdHJhbnNwb3J0IHdhcyBub3QgY3JlYXRlZCB3aXRoXG4gICAgICogYSBVUkwsIG9yIHRoZSBhc3luYyBwYXJhbWV0ZXIgaXMgVHJ1ZSBhbmQgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQsIG9yIFxuICAgICAqIHRoZSBVUkwgaXMgYW4gZW1wdHkgc3RyaW5nLCB0aGUgY3VycmVudCBzZW5kIGJ1ZmZlciBpcyByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYXN5bmMgLSBJZiB0cnVlIHRoZSBjdXJyZW50IHNlbmQgYnVmZmVyIGlzIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFjayAtIE9wdGlvbmFsIGFzeW5jIGNvbXBsZXRpb24gY2FsbGJhY2sgXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZHxzdHJpbmd9IE5vdGhpbmcgb3IgdGhlIGN1cnJlbnQgc2VuZCBidWZmZXIuXG4gICAgICogQHRocm93cyB7c3RyaW5nfSBJZiBYSFIgZmFpbHMuXG4gICAgICovXG4gICAgZmx1c2g6IGZ1bmN0aW9uKGFzeW5jLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICgoYXN5bmMgJiYgIWNhbGxiYWNrKSB8fCB0aGlzLnVybCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudXJsID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZF9idWY7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeHJlcSA9IHRoaXMuZ2V0WG1sSHR0cFJlcXVlc3RPYmplY3QoKTtcblxuICAgICAgICBpZiAoeHJlcS5vdmVycmlkZU1pbWVUeXBlKSB7XG4gICAgICAgICAgICB4cmVxLm92ZXJyaWRlTWltZVR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgLy9JZ25vcmUgWEhSIGNhbGxiYWNrcyB1bnRpbCB0aGUgZGF0YSBhcnJpdmVzLCB0aGVuIGNhbGwgdGhlXG4gICAgICAgICAgICAvLyAgY2xpZW50J3MgY2FsbGJhY2tcbiAgICAgICAgICAgIHhyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gXG4gICAgICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xpZW50Q2FsbGJhY2sgPSBjYWxsYmFjazsgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldFJlY3ZCdWZmZXIodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0oKSk7XG4gICAgICAgIH1cblxuICAgICAgICB4cmVxLm9wZW4oJ1BPU1QnLCB0aGlzLnVybCwgISFhc3luYyk7XG4gICAgICAgIHhyZXEuc2VuZCh0aGlzLnNlbmRfYnVmKTtcbiAgICAgICAgaWYgKGFzeW5jICYmIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeHJlcS5yZWFkeVN0YXRlICE9IDQpIHtcbiAgICAgICAgICAgIHRocm93ICdlbmNvdW50ZXJlZCBhbiB1bmtub3duIGFqYXggcmVhZHkgc3RhdGU6ICcgKyB4cmVxLnJlYWR5U3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeHJlcS5zdGF0dXMgIT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyAnZW5jb3VudGVyZWQgYSB1bmtub3duIHJlcXVlc3Qgc3RhdHVzOiAnICsgeHJlcS5zdGF0dXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY3ZfYnVmID0geHJlcS5yZXNwb25zZVRleHQ7XG4gICAgICAgIHRoaXMucmVjdl9idWZfc3ogPSB0aGlzLnJlY3ZfYnVmLmxlbmd0aDtcbiAgICAgICAgdGhpcy53cG9zID0gdGhpcy5yZWN2X2J1Zi5sZW5ndGg7XG4gICAgICAgIHRoaXMucnBvcyA9IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBqUXVlcnkgWEhSIG9iamVjdCB0byBiZSB1c2VkIGZvciBhIFRocmlmdCBzZXJ2ZXIgY2FsbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY2xpZW50IC0gVGhlIFRocmlmdCBTZXJ2aWNlIGNsaWVudCBvYmplY3QgZ2VuZXJhdGVkIGJ5IHRoZSBJREwgY29tcGlsZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBvc3REYXRhIC0gVGhlIG1lc3NhZ2UgdG8gc2VuZCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGFyZ3MgLSBUaGUgb3JpZ2luYWwgY2FsbCBhcmd1bWVudHMgd2l0aCB0aGUgc3VjY2VzcyBjYWxsIGJhY2sgYXQgdGhlIGVuZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZWN2X21ldGhvZCAtIFRoZSBUaHJpZnQgU2VydmljZSBDbGllbnQgcmVjZWl2ZSBtZXRob2QgZm9yIHRoZSBjYWxsLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEEgbmV3IGpRdWVyeSBYSFIgb2JqZWN0LlxuICAgICAqIEB0aHJvd3Mge3N0cmluZ30gSWYgdGhlIGpRdWVyeSB2ZXJzaW9uIGlzIHByaW9yIHRvIDEuNSBvciBpZiBqUXVlcnkgaXMgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIGpxUmVxdWVzdDogZnVuY3Rpb24oY2xpZW50LCBwb3N0RGF0YSwgYXJncywgcmVjdl9tZXRob2QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBqUXVlcnkgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgalF1ZXJ5LkRlZmVycmVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgJ1RocmlmdC5qcyByZXF1aXJlcyBqUXVlcnkgMS41KyB0byB1c2UgYXN5bmNocm9ub3VzIHJlcXVlc3RzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aHJpZnRUcmFuc3BvcnQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBqcVhIUiA9IGpRdWVyeS5hamF4KHtcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ3RleHQgdGhyaWZ0JyxcbiAgICAgICAgICAgIGNvbnZlcnRlcnM6IHtcbiAgICAgICAgICAgICAgICAndGV4dCB0aHJpZnQnIDogZnVuY3Rpb24ocmVzcG9uc2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocmlmdFRyYW5zcG9ydC5zZXRSZWN2QnVmZmVyKHJlc3BvbnNlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlY3ZfbWV0aG9kLmNhbGwoY2xpZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250ZXh0OiBjbGllbnQsXG4gICAgICAgICAgICBzdWNjZXNzOiBqUXVlcnkubWFrZUFycmF5KGFyZ3MpLnBvcCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBqcVhIUjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYnVmZmVyIHRvIHByb3ZpZGUgdGhlIHByb3RvY29sIHdoZW4gZGVzZXJpYWxpemluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmIC0gVGhlIGJ1ZmZlciB0byBzdXBwbHkgdGhlIHByb3RvY29sLlxuICAgICAqL1xuICAgIHNldFJlY3ZCdWZmZXI6IGZ1bmN0aW9uKGJ1Zikge1xuICAgICAgICB0aGlzLnJlY3ZfYnVmID0gYnVmO1xuICAgICAgICB0aGlzLnJlY3ZfYnVmX3N6ID0gdGhpcy5yZWN2X2J1Zi5sZW5ndGg7XG4gICAgICAgIHRoaXMud3BvcyA9IHRoaXMucmVjdl9idWYubGVuZ3RoO1xuICAgICAgICB0aGlzLnJwb3MgPSAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRyYW5zcG9ydCBpcyBvcGVuLCBYSFIgYWx3YXlzIHJldHVybnMgdHJ1ZS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQWx3YXlzIFRydWUuXG4gICAgICovICAgIFxuICAgIGlzT3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgdHJhbnNwb3J0IGNvbm5lY3Rpb24sIHdpdGggWEhSIHRoaXMgaXMgYSBub3AuXG4gICAgICovICAgIFxuICAgIG9wZW46IGZ1bmN0aW9uKCkge30sXG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHRyYW5zcG9ydCBjb25uZWN0aW9uLCB3aXRoIFhIUiB0aGlzIGlzIGEgbm9wLlxuICAgICAqLyAgICBcbiAgICBjbG9zZTogZnVuY3Rpb24oKSB7fSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSByZXNwb25zZVxuICAgICAqIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuIC0gVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDaGFyYWN0ZXJzIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICByZWFkOiBmdW5jdGlvbihsZW4pIHtcbiAgICAgICAgdmFyIGF2YWlsID0gdGhpcy53cG9zIC0gdGhpcy5ycG9zO1xuXG4gICAgICAgIGlmIChhdmFpbCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdpdmUgPSBsZW47XG5cbiAgICAgICAgaWYgKGF2YWlsIDwgbGVuKSB7XG4gICAgICAgICAgICBnaXZlID0gYXZhaWw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmV0ID0gdGhpcy5yZWFkX2J1Zi5zdWJzdHIodGhpcy5ycG9zLCBnaXZlKTtcbiAgICAgICAgdGhpcy5ycG9zICs9IGdpdmU7XG5cbiAgICAgICAgLy9jbGVhciBidWYgd2hlbiBjb21wbGV0ZT9cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZW50aXJlIHJlc3BvbnNlIGJ1ZmZlci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDaGFyYWN0ZXJzIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICByZWFkQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdl9idWY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNlbmQgYnVmZmVyIHRvIGJ1Zi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmIC0gVGhlIGJ1ZmZlciB0byBzZW5kLlxuICAgICAqLyAgICBcbiAgICB3cml0ZTogZnVuY3Rpb24oYnVmKSB7XG4gICAgICAgIHRoaXMuc2VuZF9idWYgPSBidWY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlbmQgYnVmZmVyLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBzZW5kIGJ1ZmZlci5cbiAgICAgKi8gXG4gICAgZ2V0U2VuZEJ1ZmZlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRfYnVmO1xuICAgIH1cblxufTtcblxuXG4vKipcbiAqIENvbnN0cnVjdG9yIEZ1bmN0aW9uIGZvciB0aGUgV2ViU29ja2V0IHRyYW5zcG9ydC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IFt1cmxdIC0gVGhlIFVSTCB0byBjb25uZWN0IHRvLlxuICogQGNsYXNzZGVzYyBUaGUgQXBhY2hlIFRocmlmdCBUcmFuc3BvcnQgbGF5ZXIgcGVyZm9ybXMgYnl0ZSBsZXZlbCBJL08gXG4gKiBiZXR3ZWVuIFJQQyBjbGllbnRzIGFuZCBzZXJ2ZXJzLiBUaGUgSmF2YVNjcmlwdCBUV2ViU29ja2V0VHJhbnNwb3J0IG9iamVjdCBcbiAqIHVzZXMgdGhlIFdlYlNvY2tldCBwcm90b2NvbC4gVGFyZ2V0IHNlcnZlcnMgbXVzdCBpbXBsZW1lbnQgV2ViU29ja2V0LlxuICogKHNlZTogbm9kZS5qcyBleGFtcGxlIHNlcnZlcl9odHRwLmpzKS5cbiAqIEBleGFtcGxlXG4gKiAgIHZhciB0cmFuc3BvcnQgPSBuZXcgVGhyaWZ0LlRXZWJTb2NrZXRUcmFuc3BvcnQoXCJodHRwOi8vbG9jYWxob3N0Ojg1ODVcIik7XG4gKi9cblRocmlmdC5UV2ViU29ja2V0VHJhbnNwb3J0ID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdGhpcy5fX3Jlc2V0KHVybCk7XG59O1xuXG5UaHJpZnQuVFdlYlNvY2tldFRyYW5zcG9ydC5wcm90b3R5cGUgPSB7XG4gICAgX19yZXNldDogZnVuY3Rpb24odXJsKSB7XG4gICAgICB0aGlzLnVybCA9IHVybDsgICAgICAgICAgICAgLy9XaGVyZSB0byBjb25uZWN0XG4gICAgICB0aGlzLnNvY2tldCA9IG51bGw7ICAgICAgICAgLy9UaGUgd2ViIHNvY2tldFxuICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTsgICAgICAgIC8vUGVuZGluZyBjYWxsYmFja3NcbiAgICAgIHRoaXMuc2VuZF9wZW5kaW5nID0gW107ICAgICAvL0J1ZmZlcnMvQ2FsbGJhY2sgcGFpcnMgd2FpdGluZyB0byBiZSBzZW50XG4gICAgICB0aGlzLnNlbmRfYnVmID0gJyc7ICAgICAgICAgLy9PdXRib3VuZCBkYXRhLCBpbW11dGFibGUgdW50aWwgc2VudFxuICAgICAgdGhpcy5yZWN2X2J1ZiA9ICcnOyAgICAgICAgIC8vSW5ib3VuZCBkYXRhXG4gICAgICB0aGlzLnJiX3dwb3MgPSAwOyAgICAgICAgICAgLy9OZXR3b3JrIHdyaXRlIHBvc2l0aW9uIGluIHJlY2VpdmUgYnVmZmVyXG4gICAgICB0aGlzLnJiX3Jwb3MgPSAwOyAgICAgICAgICAgLy9DbGllbnQgcmVhZCBwb3NpdGlvbiBpbiByZWNlaXZlIGJ1ZmZlclxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kcyB0aGUgY3VycmVudCBXUyByZXF1ZXN0IGFuZCByZWdpc3RlcnMgY2FsbGJhY2suIFRoZSBhc3luYyBcbiAgICAgKiBwYXJhbWV0ZXIgaXMgaWdub3JlZCAoV1MgZmx1c2ggaXMgYWx3YXlzIGFzeW5jKSBhbmQgdGhlIGNhbGxiYWNrIFxuICAgICAqIGZ1bmN0aW9uIHBhcmFtZXRlciBpcyByZXF1aXJlZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYXN5bmMgLSBJZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFjayAtIFRoZSBjbGllbnQgY29tcGxldGlvbiBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfHN0cmluZ30gTm90aGluZyAodW5kZWZpbmVkKSBcbiAgICAgKi9cbiAgICBmbHVzaDogZnVuY3Rpb24oYXN5bmMsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgICAvL1NlbmQgZGF0YSBhbmQgcmVnaXN0ZXIgYSBjYWxsYmFjayB0byBpbnZva2UgdGhlIGNsaWVudCBjYWxsYmFja1xuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKHRoaXMuc2VuZF9idWYpOyBcbiAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGNsaWVudENhbGxiYWNrID0gY2FsbGJhY2s7ICAgIFxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihtc2cpIHtcbiAgICAgICAgICAgIHNlbGYuc2V0UmVjdkJ1ZmZlcihtc2cpO1xuICAgICAgICAgICAgY2xpZW50Q2FsbGJhY2soKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KCkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vUXVldWUgdGhlIHNlbmQgdG8gZ28gb3V0IF9fb25PcGVuXG4gICAgICAgIHRoaXMuc2VuZF9wZW5kaW5nLnB1c2goe1xuICAgICAgICAgIGJ1ZjogdGhpcy5zZW5kX2J1ZixcbiAgICAgICAgICBjYjogIGNhbGxiYWNrXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfX29uT3BlbjogZnVuY3Rpb24oKSB7IFxuICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICBpZiAodGhpcy5zZW5kX3BlbmRpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vSWYgdGhlIHVzZXIgbWFkZSBjYWxscyBiZWZvcmUgdGhlIGNvbm5lY3Rpb24gd2FzIGZ1bGx5IFxuICAgICAgICAgIC8vb3Blbiwgc2VuZCB0aGVtIG5vd1xuICAgICAgICAgIHRoaXMuc2VuZF9wZW5kaW5nLmZvckVhY2goZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgIHRoaXMuc29ja2V0LnNlbmQoZWxlbS5idWYpO1xuICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgdmFyIGNsaWVudENhbGxiYWNrID0gZWxlbS5jYjsgICAgXG4gICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obXNnKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnNldFJlY3ZCdWZmZXIobXNnKTtcbiAgICAgICAgICAgICAgICAgIGNsaWVudENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH0oKSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuc2VuZF9wZW5kaW5nID0gW107XG4gICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgX19vbkNsb3NlOiBmdW5jdGlvbihldnQpIHsgXG4gICAgICB0aGlzLl9fcmVzZXQodGhpcy51cmwpO1xuICAgIH0sXG4gICAgIFxuICAgIF9fb25NZXNzYWdlOiBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmICh0aGlzLmNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Muc2hpZnQoKShldnQuZGF0YSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAgXG4gICAgX19vbkVycm9yOiBmdW5jdGlvbihldnQpIHsgXG4gICAgICBjb25zb2xlLmxvZyhcIlRocmlmdCBXZWJTb2NrZXQgRXJyb3I6IFwiICsgZXZ0LnRvU3RyaW5nKCkpO1xuICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYnVmZmVyIHRvIHVzZSB3aGVuIHJlY2VpdmluZyBzZXJ2ZXIgcmVzcG9uc2VzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidWYgLSBUaGUgYnVmZmVyIHRvIHJlY2VpdmUgc2VydmVyIHJlc3BvbnNlcy5cbiAgICAgKi9cbiAgICBzZXRSZWN2QnVmZmVyOiBmdW5jdGlvbihidWYpIHtcbiAgICAgICAgdGhpcy5yZWN2X2J1ZiA9IGJ1ZjtcbiAgICAgICAgdGhpcy5yZWN2X2J1Zl9zeiA9IHRoaXMucmVjdl9idWYubGVuZ3RoO1xuICAgICAgICB0aGlzLndwb3MgPSB0aGlzLnJlY3ZfYnVmLmxlbmd0aDtcbiAgICAgICAgdGhpcy5ycG9zID0gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0cmFuc3BvcnQgaXMgb3BlblxuICAgICAqIEByZWFkb25seVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBcbiAgICAgKi8gICAgXG4gICAgaXNPcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ja2V0ICYmIHRoaXMuc29ja2V0LnJlYWR5U3RhdGUgPT0gdGhpcy5zb2NrZXQuT1BFTjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIHRyYW5zcG9ydCBjb25uZWN0aW9uXG4gICAgICovICAgIFxuICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgLy9JZiBPUEVOL0NPTk5FQ1RJTkcvQ0xPU0lORyBpZ25vcmUgYWRkaXRpb25hbCBvcGVuc1xuICAgICAgaWYgKHRoaXMuc29ja2V0ICYmIHRoaXMuc29ja2V0LnJlYWR5U3RhdGUgIT0gdGhpcy5zb2NrZXQuQ0xPU0VEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vSWYgdGhlcmUgaXMgbm8gc29ja2V0IG9yIHRoZSBzb2NrZXQgaXMgY2xvc2VkOlxuICAgICAgdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KHRoaXMudXJsKTtcbiAgICAgIHRoaXMuc29ja2V0Lm9ub3BlbiA9IHRoaXMuX19vbk9wZW4uYmluZCh0aGlzKTsgXG4gICAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSB0aGlzLl9fb25NZXNzYWdlLmJpbmQodGhpcyk7IFxuICAgICAgdGhpcy5zb2NrZXQub25lcnJvciA9IHRoaXMuX19vbkVycm9yLmJpbmQodGhpcyk7IFxuICAgICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IHRoaXMuX19vbkNsb3NlLmJpbmQodGhpcyk7IFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHRyYW5zcG9ydCBjb25uZWN0aW9uXG4gICAgICovICAgIFxuICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSByZXNwb25zZVxuICAgICAqIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuIC0gVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDaGFyYWN0ZXJzIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICByZWFkOiBmdW5jdGlvbihsZW4pIHtcbiAgICAgICAgdmFyIGF2YWlsID0gdGhpcy53cG9zIC0gdGhpcy5ycG9zO1xuXG4gICAgICAgIGlmIChhdmFpbCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdpdmUgPSBsZW47XG5cbiAgICAgICAgaWYgKGF2YWlsIDwgbGVuKSB7XG4gICAgICAgICAgICBnaXZlID0gYXZhaWw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmV0ID0gdGhpcy5yZWFkX2J1Zi5zdWJzdHIodGhpcy5ycG9zLCBnaXZlKTtcbiAgICAgICAgdGhpcy5ycG9zICs9IGdpdmU7XG5cbiAgICAgICAgLy9jbGVhciBidWYgd2hlbiBjb21wbGV0ZT9cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZW50aXJlIHJlc3BvbnNlIGJ1ZmZlci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDaGFyYWN0ZXJzIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICByZWFkQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdl9idWY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNlbmQgYnVmZmVyIHRvIGJ1Zi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmIC0gVGhlIGJ1ZmZlciB0byBzZW5kLlxuICAgICAqLyAgICBcbiAgICB3cml0ZTogZnVuY3Rpb24oYnVmKSB7XG4gICAgICAgIHRoaXMuc2VuZF9idWYgPSBidWY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlbmQgYnVmZmVyLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBzZW5kIGJ1ZmZlci5cbiAgICAgKi8gXG4gICAgZ2V0U2VuZEJ1ZmZlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRfYnVmO1xuICAgIH1cblxufTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIFRocmlmdCBKU09OIHByb3RvY29sIGluc3RhbmNlLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1RocmlmdC5UcmFuc3BvcnR9IHRyYW5zcG9ydCAtIFRoZSB0cmFuc3BvcnQgdG8gc2VyaWFsaXplIHRvL2Zyb20uXG4gKiBAY2xhc3NkZXNjIEFwYWNoZSBUaHJpZnQgUHJvdG9jb2xzIHBlcmZvcm0gc2VyaWFsaXphdGlvbiB3aGljaCBlbmFibGVzIGNyb3NzIFxuICogbGFuZ3VhZ2UgUlBDLiBUaGUgUHJvdG9jb2wgdHlwZSBpcyB0aGUgSmF2YVNjcmlwdCBicm93c2VyIGltcGxlbWVudGF0aW9uIFxuICogb2YgdGhlIEFwYWNoZSBUaHJpZnQgVEpTT05Qcm90b2NvbC5cbiAqIEBleGFtcGxlXG4gKiAgICAgdmFyIHByb3RvY29sICA9IG5ldyBUaHJpZnQuUHJvdG9jb2wodHJhbnNwb3J0KTtcbiAqL1xuVGhyaWZ0LlRKU09OUHJvdG9jb2wgPSBUaHJpZnQuUHJvdG9jb2wgPSBmdW5jdGlvbih0cmFuc3BvcnQpIHtcbiAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbn07XG5cbi8qKlxuICogVGhyaWZ0IElETCB0eXBlIElkIHRvIHN0cmluZyBtYXBwaW5nLlxuICogQHJlYWRvbmx5XG4gKiBAc2VlIHtAbGluayBUaHJpZnQuVHlwZX1cbiAqL1xuVGhyaWZ0LlByb3RvY29sLlR5cGUgPSB7fTtcblRocmlmdC5Qcm90b2NvbC5UeXBlW1RocmlmdC5UeXBlLkJPT0xdID0gJ1widGZcIic7XG5UaHJpZnQuUHJvdG9jb2wuVHlwZVtUaHJpZnQuVHlwZS5CWVRFXSA9ICdcImk4XCInO1xuVGhyaWZ0LlByb3RvY29sLlR5cGVbVGhyaWZ0LlR5cGUuSTE2XSA9ICdcImkxNlwiJztcblRocmlmdC5Qcm90b2NvbC5UeXBlW1RocmlmdC5UeXBlLkkzMl0gPSAnXCJpMzJcIic7XG5UaHJpZnQuUHJvdG9jb2wuVHlwZVtUaHJpZnQuVHlwZS5JNjRdID0gJ1wiaTY0XCInO1xuVGhyaWZ0LlByb3RvY29sLlR5cGVbVGhyaWZ0LlR5cGUuRE9VQkxFXSA9ICdcImRibFwiJztcblRocmlmdC5Qcm90b2NvbC5UeXBlW1RocmlmdC5UeXBlLlNUUlVDVF0gPSAnXCJyZWNcIic7XG5UaHJpZnQuUHJvdG9jb2wuVHlwZVtUaHJpZnQuVHlwZS5TVFJJTkddID0gJ1wic3RyXCInO1xuVGhyaWZ0LlByb3RvY29sLlR5cGVbVGhyaWZ0LlR5cGUuTUFQXSA9ICdcIm1hcFwiJztcblRocmlmdC5Qcm90b2NvbC5UeXBlW1RocmlmdC5UeXBlLkxJU1RdID0gJ1wibHN0XCInO1xuVGhyaWZ0LlByb3RvY29sLlR5cGVbVGhyaWZ0LlR5cGUuU0VUXSA9ICdcInNldFwiJztcblxuLyoqXG4gKiBUaHJpZnQgSURMIHR5cGUgc3RyaW5nIHRvIElkIG1hcHBpbmcuXG4gKiBAcmVhZG9ubHlcbiAqIEBzZWUge0BsaW5rIFRocmlmdC5UeXBlfVxuICovXG5UaHJpZnQuUHJvdG9jb2wuUlR5cGUgPSB7fTtcblRocmlmdC5Qcm90b2NvbC5SVHlwZS50ZiA9IFRocmlmdC5UeXBlLkJPT0w7XG5UaHJpZnQuUHJvdG9jb2wuUlR5cGUuaTggPSBUaHJpZnQuVHlwZS5CWVRFO1xuVGhyaWZ0LlByb3RvY29sLlJUeXBlLmkxNiA9IFRocmlmdC5UeXBlLkkxNjtcblRocmlmdC5Qcm90b2NvbC5SVHlwZS5pMzIgPSBUaHJpZnQuVHlwZS5JMzI7XG5UaHJpZnQuUHJvdG9jb2wuUlR5cGUuaTY0ID0gVGhyaWZ0LlR5cGUuSTY0O1xuVGhyaWZ0LlByb3RvY29sLlJUeXBlLmRibCA9IFRocmlmdC5UeXBlLkRPVUJMRTtcblRocmlmdC5Qcm90b2NvbC5SVHlwZS5yZWMgPSBUaHJpZnQuVHlwZS5TVFJVQ1Q7XG5UaHJpZnQuUHJvdG9jb2wuUlR5cGUuc3RyID0gVGhyaWZ0LlR5cGUuU1RSSU5HO1xuVGhyaWZ0LlByb3RvY29sLlJUeXBlLm1hcCA9IFRocmlmdC5UeXBlLk1BUDtcblRocmlmdC5Qcm90b2NvbC5SVHlwZS5sc3QgPSBUaHJpZnQuVHlwZS5MSVNUO1xuVGhyaWZ0LlByb3RvY29sLlJUeXBlLnNldCA9IFRocmlmdC5UeXBlLlNFVDtcblxuLyoqXG4gKiBUaGUgVEpTT05Qcm90b2NvbCB2ZXJzaW9uIG51bWJlci5cbiAqIEByZWFkb25seVxuICogQGNvbnN0IHtudW1iZXJ9IFZlcnNpb25cbiAqIEBtZW1iZXJvZiBUaHJpZnQuUHJvdG9jb2xcbiAqL1xuIFRocmlmdC5Qcm90b2NvbC5WZXJzaW9uID0gMTtcblxuVGhyaWZ0LlByb3RvY29sLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydC5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcmV0dXJucyB7VGhyaWZ0LlRyYW5zcG9ydH0gVGhlIHVuZGVybHlpbmcgdHJhbnNwb3J0LlxuICAgICAqLyBcbiAgICBnZXRUcmFuc3BvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIGJlZ2lubmluZyBvZiBhIFRocmlmdCBSUEMgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBzZXJ2aWNlIG1ldGhvZCB0byBjYWxsLlxuICAgICAqIEBwYXJhbSB7VGhyaWZ0Lk1lc3NhZ2VUeXBlfSBtZXNzYWdlVHlwZSAtIFRoZSB0eXBlIG9mIG1ldGhvZCBjYWxsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZXFpZCAtIFRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhpcyBjYWxsIChhbHdheXMgMCBpbiBBcGFjaGUgVGhyaWZ0KS5cbiAgICAgKi9cbiAgICB3cml0ZU1lc3NhZ2VCZWdpbjogZnVuY3Rpb24obmFtZSwgbWVzc2FnZVR5cGUsIHNlcWlkKSB7XG4gICAgICAgIHRoaXMudHN0YWNrID0gW107XG4gICAgICAgIHRoaXMudHBvcyA9IFtdO1xuXG4gICAgICAgIHRoaXMudHN0YWNrLnB1c2goW1RocmlmdC5Qcm90b2NvbC5WZXJzaW9uLCAnXCInICtcbiAgICAgICAgICAgIG5hbWUgKyAnXCInLCBtZXNzYWdlVHlwZSwgc2VxaWRdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgVGhyaWZ0IFJQQyBtZXNzYWdlLlxuICAgICAqL1xuICAgIHdyaXRlTWVzc2FnZUVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvYmogPSB0aGlzLnRzdGFjay5wb3AoKTtcblxuICAgICAgICB0aGlzLndvYmogPSB0aGlzLnRzdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy53b2JqLnB1c2gob2JqKTtcblxuICAgICAgICB0aGlzLndidWYgPSAnWycgKyB0aGlzLndvYmouam9pbignLCcpICsgJ10nO1xuXG4gICAgICAgIHRoaXMudHJhbnNwb3J0LndyaXRlKHRoaXMud2J1Zik7XG4gICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIGJlZ2lubmluZyBvZiBhIHN0cnVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBzdHJ1Y3QuXG4gICAgICovXG4gICAgd3JpdGVTdHJ1Y3RCZWdpbjogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLnRwb3MucHVzaCh0aGlzLnRzdGFjay5sZW5ndGgpO1xuICAgICAgICB0aGlzLnRzdGFjay5wdXNoKHt9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgc3RydWN0LlxuICAgICAqL1xuICAgIHdyaXRlU3RydWN0RW5kOiBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgcCA9IHRoaXMudHBvcy5wb3AoKTtcbiAgICAgICAgdmFyIHN0cnVjdCA9IHRoaXMudHN0YWNrW3BdO1xuICAgICAgICB2YXIgc3RyID0gJ3snO1xuICAgICAgICB2YXIgZmlyc3QgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc3RydWN0KSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gJywnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdHIgKz0ga2V5ICsgJzonICsgc3RydWN0W2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gJ30nO1xuICAgICAgICB0aGlzLnRzdGFja1twXSA9IHN0cjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgYmVnaW5uaW5nIG9mIGEgc3RydWN0IGZpZWxkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGZpZWxkLlxuICAgICAqIEBwYXJhbSB7VGhyaWZ0LlByb3RvY29sLlR5cGV9IGZpZWxkVHlwZSAtIFRoZSBkYXRhIHR5cGUgb2YgdGhlIGZpZWxkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmaWVsZElkIC0gVGhlIGZpZWxkJ3MgdW5pcXVlIGlkZW50aWZpZXIuXG4gICAgICovXG4gICAgd3JpdGVGaWVsZEJlZ2luOiBmdW5jdGlvbihuYW1lLCBmaWVsZFR5cGUsIGZpZWxkSWQpIHtcbiAgICAgICAgdGhpcy50cG9zLnB1c2godGhpcy50c3RhY2subGVuZ3RoKTtcbiAgICAgICAgdGhpcy50c3RhY2sucHVzaCh7ICdmaWVsZElkJzogJ1wiJyArXG4gICAgICAgICAgICBmaWVsZElkICsgJ1wiJywgJ2ZpZWxkVHlwZSc6IFRocmlmdC5Qcm90b2NvbC5UeXBlW2ZpZWxkVHlwZV1cbiAgICAgICAgfSk7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgZmllbGQuXG4gICAgICovXG4gICAgd3JpdGVGaWVsZEVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudHN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgZmllbGRJbmZvID0gdGhpcy50c3RhY2sucG9wKCk7XG5cbiAgICAgICAgdGhpcy50c3RhY2tbdGhpcy50c3RhY2subGVuZ3RoIC0gMV1bZmllbGRJbmZvLmZpZWxkSWRdID0gJ3snICtcbiAgICAgICAgICAgIGZpZWxkSW5mby5maWVsZFR5cGUgKyAnOicgKyB2YWx1ZSArICd9JztcbiAgICAgICAgdGhpcy50cG9zLnBvcCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBlbmQgb2YgdGhlIHNldCBvZiBmaWVsZHMgZm9yIGEgc3RydWN0LlxuICAgICAqL1xuICAgIHdyaXRlRmllbGRTdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9uYVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBiZWdpbm5pbmcgb2YgYSBtYXAgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge1RocmlmdC5UeXBlfSBrZXlUeXBlIC0gVGhlIGRhdGEgdHlwZSBvZiB0aGUga2V5LlxuICAgICAqIEBwYXJhbSB7VGhyaWZ0LlR5cGV9IHZhbFR5cGUgLSBUaGUgZGF0YSB0eXBlIG9mIHRoZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemVdIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgbWFwIChpZ25vcmVkKS5cbiAgICAgKi9cbiAgICB3cml0ZU1hcEJlZ2luOiBmdW5jdGlvbihrZXlUeXBlLCB2YWxUeXBlLCBzaXplKSB7XG4gICAgICAgIHRoaXMudHBvcy5wdXNoKHRoaXMudHN0YWNrLmxlbmd0aCk7XG4gICAgICAgIHRoaXMudHN0YWNrLnB1c2goW1RocmlmdC5Qcm90b2NvbC5UeXBlW2tleVR5cGVdLFxuICAgICAgICAgICAgVGhyaWZ0LlByb3RvY29sLlR5cGVbdmFsVHlwZV0sIDBdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgbWFwLlxuICAgICAqL1xuICAgIHdyaXRlTWFwRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzLnRwb3MucG9wKCk7XG5cbiAgICAgICAgaWYgKHAgPT0gdGhpcy50c3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRoaXMudHN0YWNrLmxlbmd0aCAtIHAgLSAxKSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudHN0YWNrLnB1c2goJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpemUgPSAodGhpcy50c3RhY2subGVuZ3RoIC0gcCAtIDEpIC8gMjtcblxuICAgICAgICB0aGlzLnRzdGFja1twXVt0aGlzLnRzdGFja1twXS5sZW5ndGggLSAxXSA9IHNpemU7XG5cbiAgICAgICAgdmFyIG1hcCA9ICd9JztcbiAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKHRoaXMudHN0YWNrLmxlbmd0aCA+IHAgKyAxKSB7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMudHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgdmFyIGsgPSB0aGlzLnRzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hcCA9ICcsJyArIG1hcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEgaXNOYU4oaykpIHsgayA9ICdcIicgKyBrICsgJ1wiJzsgfSAvL2pzb24gXCJrZXlzXCIgbmVlZCB0byBiZSBzdHJpbmdzXG4gICAgICAgICAgICBtYXAgPSBrICsgJzonICsgdiArIG1hcDtcbiAgICAgICAgfVxuICAgICAgICBtYXAgPSAneycgKyBtYXA7XG5cbiAgICAgICAgdGhpcy50c3RhY2tbcF0ucHVzaChtYXApO1xuICAgICAgICB0aGlzLnRzdGFja1twXSA9ICdbJyArIHRoaXMudHN0YWNrW3BdLmpvaW4oJywnKSArICddJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgYmVnaW5uaW5nIG9mIGEgbGlzdCBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7VGhyaWZ0LlR5cGV9IGVsZW1UeXBlIC0gVGhlIGRhdGEgdHlwZSBvZiB0aGUgZWxlbWVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIHdyaXRlTGlzdEJlZ2luOiBmdW5jdGlvbihlbGVtVHlwZSwgc2l6ZSkge1xuICAgICAgICB0aGlzLnRwb3MucHVzaCh0aGlzLnRzdGFjay5sZW5ndGgpO1xuICAgICAgICB0aGlzLnRzdGFjay5wdXNoKFtUaHJpZnQuUHJvdG9jb2wuVHlwZVtlbGVtVHlwZV0sIHNpemVdKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgbGlzdC5cbiAgICAgKi9cbiAgICB3cml0ZUxpc3RFbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcCA9IHRoaXMudHBvcy5wb3AoKTtcblxuICAgICAgICB3aGlsZSAodGhpcy50c3RhY2subGVuZ3RoID4gcCArIDEpIHtcbiAgICAgICAgICAgIHZhciB0bXBWYWwgPSB0aGlzLnRzdGFja1twICsgMV07XG4gICAgICAgICAgICB0aGlzLnRzdGFjay5zcGxpY2UocCArIDEsIDEpO1xuICAgICAgICAgICAgdGhpcy50c3RhY2tbcF0ucHVzaCh0bXBWYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50c3RhY2tbcF0gPSAnWycgKyB0aGlzLnRzdGFja1twXS5qb2luKCcsJykgKyAnXSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIGJlZ2lubmluZyBvZiBhIHNldCBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7VGhyaWZ0LlR5cGV9IGVsZW1UeXBlIC0gVGhlIGRhdGEgdHlwZSBvZiB0aGUgZWxlbWVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIHdyaXRlU2V0QmVnaW46IGZ1bmN0aW9uKGVsZW1UeXBlLCBzaXplKSB7XG4gICAgICAgIHRoaXMudHBvcy5wdXNoKHRoaXMudHN0YWNrLmxlbmd0aCk7XG4gICAgICAgIHRoaXMudHN0YWNrLnB1c2goW1RocmlmdC5Qcm90b2NvbC5UeXBlW2VsZW1UeXBlXSwgc2l6ZV0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBlbmQgb2YgYSBzZXQuXG4gICAgICovXG4gICAgd3JpdGVTZXRFbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcCA9IHRoaXMudHBvcy5wb3AoKTtcblxuICAgICAgICB3aGlsZSAodGhpcy50c3RhY2subGVuZ3RoID4gcCArIDEpIHtcbiAgICAgICAgICAgIHZhciB0bXBWYWwgPSB0aGlzLnRzdGFja1twICsgMV07XG4gICAgICAgICAgICB0aGlzLnRzdGFjay5zcGxpY2UocCArIDEsIDEpO1xuICAgICAgICAgICAgdGhpcy50c3RhY2tbcF0ucHVzaCh0bXBWYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50c3RhY2tbcF0gPSAnWycgKyB0aGlzLnRzdGFja1twXS5qb2luKCcsJykgKyAnXSc7XG4gICAgfSxcblxuICAgIC8qKiBTZXJpYWxpemVzIGEgYm9vbGVhbiAqL1xuICAgIHdyaXRlQm9vbDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy50c3RhY2sucHVzaCh2YWx1ZSA/IDEgOiAwKTtcbiAgICB9LFxuXG4gICAgLyoqIFNlcmlhbGl6ZXMgYSBudW1iZXIgKi9cbiAgICB3cml0ZUJ5dGU6IGZ1bmN0aW9uKGk4KSB7XG4gICAgICAgIHRoaXMudHN0YWNrLnB1c2goaTgpO1xuICAgIH0sXG5cbiAgICAvKiogU2VyaWFsaXplcyBhIG51bWJlciAqL1xuICAgIHdyaXRlSTE2OiBmdW5jdGlvbihpMTYpIHtcbiAgICAgICAgdGhpcy50c3RhY2sucHVzaChpMTYpO1xuICAgIH0sXG5cbiAgICAvKiogU2VyaWFsaXplcyBhIG51bWJlciAqL1xuICAgIHdyaXRlSTMyOiBmdW5jdGlvbihpMzIpIHtcbiAgICAgICAgdGhpcy50c3RhY2sucHVzaChpMzIpO1xuICAgIH0sXG5cbiAgICAvKiogU2VyaWFsaXplcyBhIG51bWJlciAqL1xuICAgIHdyaXRlSTY0OiBmdW5jdGlvbihpNjQpIHtcbiAgICAgICAgdGhpcy50c3RhY2sucHVzaChpNjQpO1xuICAgIH0sXG5cbiAgICAvKiogU2VyaWFsaXplcyBhIG51bWJlciAqL1xuICAgIHdyaXRlRG91YmxlOiBmdW5jdGlvbihkYmwpIHtcbiAgICAgICAgdGhpcy50c3RhY2sucHVzaChkYmwpO1xuICAgIH0sXG5cbiAgICAvKiogU2VyaWFsaXplcyBhIHN0cmluZyAqL1xuICAgIHdyaXRlU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgLy8gV2UgZG8gbm90IGVuY29kZSB1cmkgY29tcG9uZW50cyBmb3Igd2lyZSB0cmFuc2ZlcjpcbiAgICAgICAgaWYgKHN0ciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50c3RhY2sucHVzaChudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNvbmNhdCBtYXkgYmUgc2xvd2VyIHRoYW4gYnVpbGRpbmcgYSBieXRlIGJ1ZmZlclxuICAgICAgICAgICAgdmFyIGVzY2FwZWRTdHJpbmcgPSAnJztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoID0gc3RyLmNoYXJBdChpKTsgICAgICAvLyBhIHNpbmdsZSBkb3VibGUgcXVvdGU6IFwiXG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXFxcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFN0cmluZyArPSAnXFxcXFxcXCInOyAvLyB3cml0ZSBvdXQgYXM6IFxcXCJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFxcXCcpIHsgICAgLy8gYSBzaW5nbGUgYmFja3NsYXNoXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRTdHJpbmcgKz0gJ1xcXFxcXFxcJzsgLy8gd3JpdGUgb3V0IGFzIGRvdWJsZSBiYWNrc2xhc2ggXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcYicpIHsgICAgLy8gYSBzaW5nbGUgYmFja3NwYWNlOiBpbnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFN0cmluZyArPSAnXFxcXGInOyAgLy8gd3JpdGUgb3V0IGFzOiBcXGJcIlxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXGYnKSB7ICAgIC8vIGEgc2luZ2xlIGZvcm1mZWVkOiBpbnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFN0cmluZyArPSAnXFxcXGYnOyAgLy8gd3JpdGUgb3V0IGFzOiBcXGZcIlxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXG4nKSB7ICAgIC8vIGEgc2luZ2xlIG5ld2xpbmU6IGludmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkU3RyaW5nICs9ICdcXFxcbic7ICAvLyB3cml0ZSBvdXQgYXM6IFxcblwiXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xccicpIHsgICAgLy8gYSBzaW5nbGUgcmV0dXJuOiBpbnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFN0cmluZyArPSAnXFxcXHInOyAgLy8gd3JpdGUgb3V0IGFzOiBcXHJcIlxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXHQnKSB7ICAgIC8vIGEgc2luZ2xlIHRhYjogaW52aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRTdHJpbmcgKz0gJ1xcXFx0JzsgIC8vIHdyaXRlIG91dCBhczogXFx0XCJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkU3RyaW5nICs9IGNoOyAgICAgLy8gRWxzZSBpdCBuZWVkIG5vdCBiZSBlc2NhcGVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50c3RhY2sucHVzaCgnXCInICsgZXNjYXBlZFN0cmluZyArICdcIicpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKiBTZXJpYWxpemVzIGEgc3RyaW5nICovXG4gICAgd3JpdGVCaW5hcnk6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICB0aGlzLndyaXRlU3RyaW5nKHN0cik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAgIEBjbGFzc1xuICAgICAgIEBuYW1lIEFub25SZWFkTWVzc2FnZUJlZ2luUmV0dXJuXG4gICAgICAgQHByb3BlcnR5IHtzdHJpbmd9IGZuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgbWV0aG9kLlxuICAgICAgIEBwcm9wZXJ0eSB7VGhyaWZ0Lk1lc3NhZ2VUeXBlfSBtdHlwZSAtIFRoZSB0eXBlIG9mIG1lc3NhZ2UgY2FsbC5cbiAgICAgICBAcHJvcGVydHkge251bWJlcn0gcnNlcWlkIC0gVGhlIHNlcXVlbmNlIG51bWJlciBvZiB0aGUgbWVzc2FnZSAoMCBpbiBUaHJpZnQgUlBDKS5cbiAgICAgKi9cbiAgICAvKiogXG4gICAgICogRGVzZXJpYWxpemVzIHRoZSBiZWdpbm5pbmcgb2YgYSBtZXNzYWdlLiBcbiAgICAgKiBAcmV0dXJucyB7QW5vblJlYWRNZXNzYWdlQmVnaW5SZXR1cm59XG4gICAgICovXG4gICAgcmVhZE1lc3NhZ2VCZWdpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucnN0YWNrID0gW107XG4gICAgICAgIHRoaXMucnBvcyA9IFtdO1xuXG4gICAgICAgIGlmICh0eXBlb2YgSlNPTiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEpTT04ucGFyc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucm9iaiA9IEpTT04ucGFyc2UodGhpcy50cmFuc3BvcnQucmVhZEFsbCgpKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgalF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5yb2JqID0galF1ZXJ5LnBhcnNlSlNPTih0aGlzLnRyYW5zcG9ydC5yZWFkQWxsKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yb2JqID0gZXZhbCh0aGlzLnRyYW5zcG9ydC5yZWFkQWxsKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHIgPSB7fTtcbiAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJvYmouc2hpZnQoKTtcblxuICAgICAgICBpZiAodmVyc2lvbiAhPSBUaHJpZnQuUHJvdG9jb2wuVmVyc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgJ1dyb25nIHRocmlmdCBwcm90b2NvbCB2ZXJzaW9uOiAnICsgdmVyc2lvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHIuZm5hbWUgPSB0aGlzLnJvYmouc2hpZnQoKTtcbiAgICAgICAgci5tdHlwZSA9IHRoaXMucm9iai5zaGlmdCgpO1xuICAgICAgICByLnJzZXFpZCA9IHRoaXMucm9iai5zaGlmdCgpO1xuXG5cbiAgICAgICAgLy9nZXQgdG8gdGhlIG1haW4gb2JqXG4gICAgICAgIHRoaXMucnN0YWNrLnB1c2godGhpcy5yb2JqLnNoaWZ0KCkpO1xuXG4gICAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICAvKiogRGVzZXJpYWxpemVzIHRoZSBlbmQgb2YgYSBtZXNzYWdlLiAqL1xuICAgIHJlYWRNZXNzYWdlRW5kOiBmdW5jdGlvbigpIHtcbiAgICB9LFxuXG4gICAgLyoqIFxuICAgICAqIERlc2VyaWFsaXplcyB0aGUgYmVnaW5uaW5nIG9mIGEgc3RydWN0LiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gVGhlIG5hbWUgb2YgdGhlIHN0cnVjdCAoaWdub3JlZClcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEFuIG9iamVjdCB3aXRoIGFuIGVtcHR5IHN0cmluZyBmbmFtZSBwcm9wZXJ0eVxuICAgICAqLyAgICBcbiAgICByZWFkU3RydWN0QmVnaW46IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdmFyIHIgPSB7fTtcbiAgICAgICAgci5mbmFtZSA9ICcnO1xuXG4gICAgICAgIC8vaW5jYXNlIHRoaXMgaXMgYW4gYXJyYXkgb2Ygc3RydWN0c1xuICAgICAgICBpZiAodGhpcy5yc3RhY2tbdGhpcy5yc3RhY2subGVuZ3RoIC0gMV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdGhpcy5yc3RhY2sucHVzaCh0aGlzLnJzdGFja1t0aGlzLnJzdGFjay5sZW5ndGggLSAxXS5zaGlmdCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICAvKiogRGVzZXJpYWxpemVzIHRoZSBlbmQgb2YgYSBzdHJ1Y3QuICovXG4gICAgcmVhZFN0cnVjdEVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnJzdGFja1t0aGlzLnJzdGFjay5sZW5ndGggLSAyXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLnJzdGFjay5wb3AoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgICBAY2xhc3NcbiAgICAgICBAbmFtZSBBbm9uUmVhZEZpZWxkQmVnaW5SZXR1cm5cbiAgICAgICBAcHJvcGVydHkge3N0cmluZ30gZm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZmllbGQgKGFsd2F5cyAnJykuXG4gICAgICAgQHByb3BlcnR5IHtUaHJpZnQuVHlwZX0gZnR5cGUgLSBUaGUgZGF0YSB0eXBlIG9mIHRoZSBmaWVsZC5cbiAgICAgICBAcHJvcGVydHkge251bWJlcn0gZmlkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBmaWVsZC5cbiAgICAgKi9cbiAgICAvKiogXG4gICAgICogRGVzZXJpYWxpemVzIHRoZSBiZWdpbm5pbmcgb2YgYSBmaWVsZC4gXG4gICAgICogQHJldHVybnMge0Fub25SZWFkRmllbGRCZWdpblJldHVybn1cbiAgICAgKi9cbiAgICByZWFkRmllbGRCZWdpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByID0ge307XG5cbiAgICAgICAgdmFyIGZpZCA9IC0xO1xuICAgICAgICB2YXIgZnR5cGUgPSBUaHJpZnQuVHlwZS5TVE9QO1xuXG4gICAgICAgIC8vZ2V0IGEgZmllbGRJZFxuICAgICAgICBmb3IgKHZhciBmIGluICh0aGlzLnJzdGFja1t0aGlzLnJzdGFjay5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgICAgIGlmIChmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWQgPSBwYXJzZUludChmLCAxMCk7XG4gICAgICAgICAgICB0aGlzLnJwb3MucHVzaCh0aGlzLnJzdGFjay5sZW5ndGgpO1xuXG4gICAgICAgICAgICB2YXIgZmllbGQgPSB0aGlzLnJzdGFja1t0aGlzLnJzdGFjay5sZW5ndGggLSAxXVtmaWRdO1xuXG4gICAgICAgICAgICAvL3JlbW92ZSBzbyB3ZSBkb24ndCBzZWUgaXQgYWdhaW5cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJzdGFja1t0aGlzLnJzdGFjay5sZW5ndGggLSAxXVtmaWRdO1xuXG4gICAgICAgICAgICB0aGlzLnJzdGFjay5wdXNoKGZpZWxkKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlkICE9IC0xKSB7XG5cbiAgICAgICAgICAgIC8vc2hvdWxkIG9ubHkgYmUgMSBvZiB0aGVzZSBidXQgdGhpcyBpcyB0aGUgb25seVxuICAgICAgICAgICAgLy93YXkgdG8gbWF0Y2ggYSBrZXlcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gKHRoaXMucnN0YWNrW3RoaXMucnN0YWNrLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICAgICAgICAgIGlmIChUaHJpZnQuUHJvdG9jb2wuUlR5cGVbaV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnR5cGUgPSBUaHJpZnQuUHJvdG9jb2wuUlR5cGVbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yc3RhY2tbdGhpcy5yc3RhY2subGVuZ3RoIC0gMV0gPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJzdGFja1t0aGlzLnJzdGFjay5sZW5ndGggLSAxXVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHIuZm5hbWUgPSAnJztcbiAgICAgICAgci5mdHlwZSA9IGZ0eXBlO1xuICAgICAgICByLmZpZCA9IGZpZDtcblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9LFxuXG4gICAgLyoqIERlc2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgZmllbGQuICovXG4gICAgcmVhZEZpZWxkRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMucnBvcy5wb3AoKTtcblxuICAgICAgICAvL2dldCBiYWNrIHRvIHRoZSByaWdodCBwbGFjZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgd2hpbGUgKHRoaXMucnN0YWNrLmxlbmd0aCA+IHBvcykge1xuICAgICAgICAgICAgdGhpcy5yc3RhY2sucG9wKCk7XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgICBAY2xhc3NcbiAgICAgICBAbmFtZSBBbm9uUmVhZE1hcEJlZ2luUmV0dXJuXG4gICAgICAgQHByb3BlcnR5IHtUaHJpZnQuVHlwZX0ga3R5cGUgLSBUaGUgZGF0YSB0eXBlIG9mIHRoZSBrZXkuXG4gICAgICAgQHByb3BlcnR5IHtUaHJpZnQuVHlwZX0gdnR5cGUgLSBUaGUgZGF0YSB0eXBlIG9mIHRoZSB2YWx1ZS5cbiAgICAgICBAcHJvcGVydHkge251bWJlcn0gc2l6ZSAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIG1hcC5cbiAgICAgKi9cbiAgICAvKiogXG4gICAgICogRGVzZXJpYWxpemVzIHRoZSBiZWdpbm5pbmcgb2YgYSBtYXAuIFxuICAgICAqIEByZXR1cm5zIHtBbm9uUmVhZE1hcEJlZ2luUmV0dXJufVxuICAgICAqL1xuICAgIHJlYWRNYXBCZWdpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLnJzdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpcnN0ID0gbWFwLnNoaWZ0KCk7XG4gICAgICAgIGlmIChmaXJzdCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgdGhpcy5yc3RhY2sucHVzaChtYXApO1xuICAgICAgICAgIG1hcCA9IGZpcnN0O1xuICAgICAgICAgIGZpcnN0ID0gbWFwLnNoaWZ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgciA9IHt9O1xuICAgICAgICByLmt0eXBlID0gVGhyaWZ0LlByb3RvY29sLlJUeXBlW2ZpcnN0XTtcbiAgICAgICAgci52dHlwZSA9IFRocmlmdC5Qcm90b2NvbC5SVHlwZVttYXAuc2hpZnQoKV07XG4gICAgICAgIHIuc2l6ZSA9IG1hcC5zaGlmdCgpO1xuXG5cbiAgICAgICAgdGhpcy5ycG9zLnB1c2godGhpcy5yc3RhY2subGVuZ3RoKTtcbiAgICAgICAgdGhpcy5yc3RhY2sucHVzaChtYXAuc2hpZnQoKSk7XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfSxcblxuICAgIC8qKiBEZXNlcmlhbGl6ZXMgdGhlIGVuZCBvZiBhIG1hcC4gKi9cbiAgICByZWFkTWFwRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZWFkRmllbGRFbmQoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICAgQGNsYXNzXG4gICAgICAgQG5hbWUgQW5vblJlYWRDb2xCZWdpblJldHVyblxuICAgICAgIEBwcm9wZXJ0eSB7VGhyaWZ0LlR5cGV9IGV0eXBlIC0gVGhlIGRhdGEgdHlwZSBvZiB0aGUgZWxlbWVudC5cbiAgICAgICBAcHJvcGVydHkge251bWJlcn0gc2l6ZSAtIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAgICovXG4gICAgLyoqIFxuICAgICAqIERlc2VyaWFsaXplcyB0aGUgYmVnaW5uaW5nIG9mIGEgbGlzdC4gXG4gICAgICogQHJldHVybnMge0Fub25SZWFkQ29sQmVnaW5SZXR1cm59XG4gICAgICovXG4gICAgcmVhZExpc3RCZWdpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5yc3RhY2tbdGhpcy5yc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAgICAgdmFyIHIgPSB7fTtcbiAgICAgICAgci5ldHlwZSA9IFRocmlmdC5Qcm90b2NvbC5SVHlwZVtsaXN0LnNoaWZ0KCldO1xuICAgICAgICByLnNpemUgPSBsaXN0LnNoaWZ0KCk7XG5cbiAgICAgICAgdGhpcy5ycG9zLnB1c2godGhpcy5yc3RhY2subGVuZ3RoKTtcbiAgICAgICAgdGhpcy5yc3RhY2sucHVzaChsaXN0KTtcblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9LFxuXG4gICAgLyoqIERlc2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgbGlzdC4gKi9cbiAgICByZWFkTGlzdEVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVhZEZpZWxkRW5kKCk7XG4gICAgfSxcblxuICAgIC8qKiBcbiAgICAgKiBEZXNlcmlhbGl6ZXMgdGhlIGJlZ2lubmluZyBvZiBhIHNldC4gXG4gICAgICogQHJldHVybnMge0Fub25SZWFkQ29sQmVnaW5SZXR1cm59XG4gICAgICovXG4gICAgcmVhZFNldEJlZ2luOiBmdW5jdGlvbihlbGVtVHlwZSwgc2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkTGlzdEJlZ2luKGVsZW1UeXBlLCBzaXplKTtcbiAgICB9LFxuXG4gICAgLyoqIERlc2VyaWFsaXplcyB0aGUgZW5kIG9mIGEgc2V0LiAqL1xuICAgIHJlYWRTZXRFbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkTGlzdEVuZCgpO1xuICAgIH0sXG5cbiAgICAvKiogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhIHZhbHVlIHByb3BlcnR5IHNldCB0byBcbiAgICAgKiAgRmFsc2UgdW5sZXNzIHRoZSBuZXh0IG51bWJlciBpbiB0aGUgcHJvdG9jb2wgYnVmZmVyIFxuICAgICAqICBpcyAxLCBpbiB3aGljaCBjYXNlIHRlaCB2YWx1ZSBwcm9wZXJ0eSBpcyBUcnVlICovXG4gICAgcmVhZEJvb2w6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgciA9IHRoaXMucmVhZEkzMigpO1xuXG4gICAgICAgIGlmIChyICE9PSBudWxsICYmIHIudmFsdWUgPT0gJzEnKSB7XG4gICAgICAgICAgICByLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICAvKiogUmV0dXJucyB0aGUgYW4gb2JqZWN0IHdpdGggYSB2YWx1ZSBwcm9wZXJ0eSBzZXQgdG8gdGhlIFxuICAgICAgICBuZXh0IHZhbHVlIGZvdW5kIGluIHRoZSBwcm90b2NvbCBidWZmZXIgKi9cbiAgICByZWFkQnl0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRJMzIoKTtcbiAgICB9LFxuXG4gICAgLyoqIFJldHVybnMgdGhlIGFuIG9iamVjdCB3aXRoIGEgdmFsdWUgcHJvcGVydHkgc2V0IHRvIHRoZSBcbiAgICAgICAgbmV4dCB2YWx1ZSBmb3VuZCBpbiB0aGUgcHJvdG9jb2wgYnVmZmVyICovXG4gICAgcmVhZEkxNjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRJMzIoKTtcbiAgICB9LFxuXG4gICAgLyoqIFJldHVybnMgdGhlIGFuIG9iamVjdCB3aXRoIGEgdmFsdWUgcHJvcGVydHkgc2V0IHRvIHRoZSBcbiAgICAgICAgbmV4dCB2YWx1ZSBmb3VuZCBpbiB0aGUgcHJvdG9jb2wgYnVmZmVyICovXG4gICAgcmVhZEkzMjogZnVuY3Rpb24oZikge1xuICAgICAgICBpZiAoZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmID0gdGhpcy5yc3RhY2tbdGhpcy5yc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgciA9IHt9O1xuXG4gICAgICAgIGlmIChmIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGlmIChmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHIudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIudmFsdWUgPSBmLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZiBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICBmb3IgKHZhciBpIGluIGYpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucnN0YWNrLnB1c2goZltpXSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGZbaV07XG5cbiAgICAgICAgICAgICAgICByLnZhbHVlID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgci52YWx1ZSA9IGY7XG4gICAgICAgICAgICB0aGlzLnJzdGFjay5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICAvKiogUmV0dXJucyB0aGUgYW4gb2JqZWN0IHdpdGggYSB2YWx1ZSBwcm9wZXJ0eSBzZXQgdG8gdGhlIFxuICAgICAgICBuZXh0IHZhbHVlIGZvdW5kIGluIHRoZSBwcm90b2NvbCBidWZmZXIgKi9cbiAgICByZWFkSTY0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEkzMigpO1xuICAgIH0sXG5cbiAgICAvKiogUmV0dXJucyB0aGUgYW4gb2JqZWN0IHdpdGggYSB2YWx1ZSBwcm9wZXJ0eSBzZXQgdG8gdGhlIFxuICAgICAgICBuZXh0IHZhbHVlIGZvdW5kIGluIHRoZSBwcm90b2NvbCBidWZmZXIgKi9cbiAgICByZWFkRG91YmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEkzMigpO1xuICAgIH0sXG5cbiAgICAvKiogUmV0dXJucyB0aGUgYW4gb2JqZWN0IHdpdGggYSB2YWx1ZSBwcm9wZXJ0eSBzZXQgdG8gdGhlIFxuICAgICAgICBuZXh0IHZhbHVlIGZvdW5kIGluIHRoZSBwcm90b2NvbCBidWZmZXIgKi9cbiAgICByZWFkU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLnJlYWRJMzIoKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfSxcblxuICAgIC8qKiBSZXR1cm5zIHRoZSBhbiBvYmplY3Qgd2l0aCBhIHZhbHVlIHByb3BlcnR5IHNldCB0byB0aGUgXG4gICAgICAgIG5leHQgdmFsdWUgZm91bmQgaW4gdGhlIHByb3RvY29sIGJ1ZmZlciAqL1xuICAgIHJlYWRCaW5hcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkU3RyaW5nKCk7XG4gICAgfSxcblxuICAgIC8qKiBcbiAgICAgKiBNZXRob2QgdG8gYXJiaXRyYXJpbHkgc2tpcCBvdmVyIGRhdGEgKi9cbiAgICBza2lwOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHZhciByZXQsIGk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUaHJpZnQuVHlwZS5TVE9QOlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjYXNlIFRocmlmdC5UeXBlLkJPT0w6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJvb2woKTtcblxuICAgICAgICAgICAgY2FzZSBUaHJpZnQuVHlwZS5CWVRFOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRCeXRlKCk7XG5cbiAgICAgICAgICAgIGNhc2UgVGhyaWZ0LlR5cGUuSTE2OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRJMTYoKTtcblxuICAgICAgICAgICAgY2FzZSBUaHJpZnQuVHlwZS5JMzI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEkzMigpO1xuXG4gICAgICAgICAgICBjYXNlIFRocmlmdC5UeXBlLkk2NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkSTY0KCk7XG5cbiAgICAgICAgICAgIGNhc2UgVGhyaWZ0LlR5cGUuRE9VQkxFOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWREb3VibGUoKTtcblxuICAgICAgICAgICAgY2FzZSBUaHJpZnQuVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZFN0cmluZygpO1xuXG4gICAgICAgICAgICBjYXNlIFRocmlmdC5UeXBlLlNUUlVDVDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdHJ1Y3RCZWdpbigpO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucmVhZEZpZWxkQmVnaW4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldC5mdHlwZSA9PSBUaHJpZnQuVHlwZS5TVE9QKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNraXAocmV0LmZ0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkRmllbGRFbmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkU3RydWN0RW5kKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNhc2UgVGhyaWZ0LlR5cGUuTUFQOlxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucmVhZE1hcEJlZ2luKCk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJldC5zaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yc3RhY2subGVuZ3RoID4gdGhpcy5ycG9zW3RoaXMucnBvcy5sZW5ndGggLSAxXSArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNraXAocmV0Lmt0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5za2lwKHJldC52dHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVhZE1hcEVuZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjYXNlIFRocmlmdC5UeXBlLlNFVDpcbiAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnJlYWRTZXRCZWdpbigpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXQuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpcChyZXQuZXR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRTZXRFbmQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgY2FzZSBUaHJpZnQuVHlwZS5MSVNUOlxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucmVhZExpc3RCZWdpbigpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXQuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpcChyZXQuZXR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRMaXN0RW5kKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYSBNdXRpbHBsZXhQcm90b2NvbCBJbXBsZW1lbnRhdGlvbiBhcyBhIFdyYXBwZXIgZm9yIFRocmlmdC5Qcm90b2NvbFxuICogQGNvbnN0cnVjdG9yXG4gKi9cblRocmlmdC5NdWx0aXBsZXhQcm90b2NvbCA9IGZ1bmN0aW9uIChzcnZOYW1lLCB0cmFucywgc3RyaWN0UmVhZCwgc3RyaWN0V3JpdGUpIHtcbiAgICBUaHJpZnQuUHJvdG9jb2wuY2FsbCh0aGlzLCB0cmFucywgc3RyaWN0UmVhZCwgc3RyaWN0V3JpdGUpO1xuICAgIHRoaXMuc2VydmljZU5hbWUgPSBzcnZOYW1lO1xufTtcblRocmlmdC5pbmhlcml0cyhUaHJpZnQuTXVsdGlwbGV4UHJvdG9jb2wsIFRocmlmdC5Qcm90b2NvbCwgJ211bHRpcGxleFByb3RvY29sJyk7XG5cbi8qKiBPdmVycmlkZSB3cml0ZU1lc3NhZ2VCZWdpbiBtZXRob2Qgb2YgcHJvdG90eXBlKi9cblRocmlmdC5NdWx0aXBsZXhQcm90b2NvbC5wcm90b3R5cGUud3JpdGVNZXNzYWdlQmVnaW4gPSBmdW5jdGlvbiAobmFtZSwgdHlwZSwgc2VxaWQpIHtcblxuICAgIGlmICh0eXBlID09PSBUaHJpZnQuTWVzc2FnZVR5cGUuQ0FMTCB8fCB0eXBlID09PSBUaHJpZnQuTWVzc2FnZVR5cGUuT05FV0FZKSB7XG4gICAgICAgIFRocmlmdC5Qcm90b2NvbC5wcm90b3R5cGUud3JpdGVNZXNzYWdlQmVnaW4uY2FsbCh0aGlzLCB0aGlzLnNlcnZpY2VOYW1lICsgXCI6XCIgKyBuYW1lLCB0eXBlLCBzZXFpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVGhyaWZ0LlByb3RvY29sLnByb3RvdHlwZS53cml0ZU1lc3NhZ2VCZWdpbi5jYWxsKHRoaXMsIG5hbWUsIHR5cGUsIHNlcWlkKTtcbiAgICB9XG59O1xuXG5UaHJpZnQuTXVsdGlwbGV4ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXFpZCA9IDA7XG59O1xuXG4vKiogSW5zdGFudGlhdGVzIGEgbXVsdGlwbGV4ZWQgY2xpZW50IGZvciBhIHNwZWNpZmljIHNlcnZpY2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHNlcnZpY2VOYW1lIC0gVGhlIHRyYW5zcG9ydCB0byBzZXJpYWxpemUgdG8vZnJvbS5cbiAqIEBwYXJhbSB7VGhyaWZ0LlNlcnZpY2VDbGllbnR9IFNDbCAtIFRoZSBTZXJ2aWNlIENsaWVudCBDbGFzc1xuICogQHBhcmFtIHtUaHJpZnQuVHJhbnNwb3J0fSB0cmFuc3BvcnQgLSBUaHJpZnQuVHJhbnNwb3J0IGluc3RhbmNlIHdoaWNoIHByb3ZpZGVzIHJlbW90ZSBob3N0OnBvcnRcbiAqIEBleGFtcGxlXG4gKiAgICB2YXIgbXAgPSBuZXcgVGhyaWZ0Lk11bHRpcGxleGVyKCk7XG4gKiAgICB2YXIgdHJhbnNwb3J0ID0gbmV3IFRocmlmdC5UcmFuc3BvcnQoXCJodHRwOi8vbG9jYWxob3N0OjkwOTAvZm9vLnRocmlmdFwiKTtcbiAqICAgIHZhciBwcm90b2NvbCA9IG5ldyBUaHJpZnQuUHJvdG9jb2wodHJhbnNwb3J0KTtcbiAqICAgIHZhciBjbGllbnQgPSBtcC5jcmVhdGVDbGllbnQoJ0F1dGhTZXJ2aWNlJywgQXV0aFNlcnZpY2VDbGllbnQsIHRyYW5zcG9ydCk7XG4qL1xuVGhyaWZ0Lk11bHRpcGxleGVyLnByb3RvdHlwZS5jcmVhdGVDbGllbnQgPSBmdW5jdGlvbiAoc2VydmljZU5hbWUsIFNDbCwgdHJhbnNwb3J0KSB7XG4gICAgaWYgKFNDbC5DbGllbnQpIHtcbiAgICAgICAgU0NsID0gU0NsLkNsaWVudDtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIFNDbC5wcm90b3R5cGUubmV3X3NlcWlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnNlcWlkICs9IDE7XG4gICAgICAgIHJldHVybiBzZWxmLnNlcWlkO1xuICAgIH07XG4gICAgdmFyIGNsaWVudCA9IG5ldyBTQ2wobmV3IFRocmlmdC5NdWx0aXBsZXhQcm90b2NvbChzZXJ2aWNlTmFtZSwgdHJhbnNwb3J0KSk7XG5cbiAgICByZXR1cm4gY2xpZW50O1xufTtcblxuXG5cbiIsInZhciBUaHJpZnQgPSByZXF1aXJlKCd0aHJpZnQnKTtcclxudmFyIFRVc2VyU2VydmljZUNsaWVudCA9IHJlcXVpcmUoJ1RVc2VyU2VydmljZUNsaWVudCcpO1xyXG5cclxudmFyIHRyYW5zcG9ydCA9IG5ldyBUaHJpZnQuVHJhbnNwb3J0KFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VzZXJcIik7XHJcbnZhciBwcm90b2NvbCA9IG5ldyBUaHJpZnQuUHJvdG9jb2wodHJhbnNwb3J0KTtcclxudmFyIGNsaWVudCA9IG5ldyBUVXNlclNlcnZpY2VDbGllbnQocHJvdG9jb2wpO1xyXG5cclxuY29uc29sZS5sb2coVGhyaWZ0KTtcclxuY29uc29sZS5sb2coY2xpZW50KTtcclxuLy9jbGllbnQuZmluZEZhbWlsaWVzKCk7XHJcbndpbmRvdy5jbGllbnQgPSBjbGllbnQ7XHJcbiJdfQ==
